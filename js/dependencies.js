!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({"/home/circleci/project/dependencies.js":[function(require,module,exports){"use strict";module.exports=angular.module("main.dependencies",[require("angular-ui-router")["default"],require("angular-ui-notification"),"react"])},{"angular-ui-notification":"/home/circleci/project/node_modules/angular-ui-notification/index.js","angular-ui-router":"/home/circleci/project/node_modules/angular-ui-router/release/angular-ui-router.js"}],"/home/circleci/project/node_modules/angular-ui-notification/dist/angular-ui-notification.js":[function(require,module,exports){angular.module("ui-notification",[]),angular.module("ui-notification").provider("Notification",function(){this.options={delay:5e3,startTop:10,startRight:10,verticalSpacing:10,horizontalSpacing:10,positionX:"right",positionY:"top",replaceMessage:!1,templateUrl:"angular-ui-notification.html"},this.setOptions=function(options){if(!angular.isObject(options))throw new Error("Options should be an object!");this.options=angular.extend({},this.options,options)},this.$get=["$timeout","$http","$compile","$templateCache","$rootScope","$injector","$sce","$q","$window",function($timeout,$http,$compile,$templateCache,$rootScope,$injector,$sce,$q,$window){var options=this.options,startTop=options.startTop,startRight=options.startRight,verticalSpacing=options.verticalSpacing,horizontalSpacing=options.horizontalSpacing,delay=options.delay,messageElements=[],isResizeBound=!1,notify=function(args,t){var deferred=$q.defer();return"object"!=typeof args&&(args={message:args}),args.scope=args.scope?args.scope:$rootScope,args.template=args.templateUrl?args.templateUrl:options.templateUrl,args.delay=angular.isUndefined(args.delay)?delay:args.delay,args.type=t||options.type||"",args.positionY=args.positionY?args.positionY:options.positionY,args.positionX=args.positionX?args.positionX:options.positionX,args.replaceMessage=args.replaceMessage?args.replaceMessage:options.replaceMessage,$http.get(args.template,{cache:$templateCache}).success(function(template){var scope=args.scope.$new();scope.message=$sce.trustAsHtml(args.message),scope.title=$sce.trustAsHtml(args.title),scope.t=args.type.substr(0,1),scope.delay=args.delay;var reposite=function(){for(var j=0,k=0,lastTop=startTop,lastRight=startRight,lastPosition=[],i=messageElements.length-1;i>=0;i--){var element=messageElements[i];if(args.replaceMessage&&i<messageElements.length-1)element.addClass("killed");else{var elHeight=parseInt(element[0].offsetHeight),elWidth=parseInt(element[0].offsetWidth),position=lastPosition[element._positionY+element._positionX];top+elHeight>window.innerHeight&&(position=startTop,k++,j=0);var top=lastTop=position?0===j?position:position+verticalSpacing:startTop,right=lastRight+k*(horizontalSpacing+elWidth);element.css(element._positionY,top+"px"),"center"==element._positionX?element.css("left",parseInt(window.innerWidth/2-elWidth/2)+"px"):element.css(element._positionX,right+"px"),lastPosition[element._positionY+element._positionX]=top+elHeight,j++}}},templateElement=$compile(template)(scope);templateElement._positionY=args.positionY,templateElement._positionX=args.positionX,templateElement.addClass(args.type),templateElement.bind("webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd click",function(e){e=e.originalEvent||e,("click"===e.type||"opacity"===e.propertyName&&e.elapsedTime>=1)&&(templateElement.remove(),messageElements.splice(messageElements.indexOf(templateElement),1),reposite())}),angular.isNumber(args.delay)&&$timeout(function(){templateElement.addClass("killed")},args.delay),angular.element(document.getElementsByTagName("body")).append(templateElement);var offset=-(parseInt(templateElement[0].offsetHeight)+50);templateElement.css(templateElement._positionY,offset+"px"),messageElements.push(templateElement),scope._templateElement=templateElement,scope.kill=function(isHard){isHard?(messageElements.splice(messageElements.indexOf(scope._templateElement),1),scope._templateElement.remove(),$timeout(reposite)):scope._templateElement.addClass("killed")},$timeout(reposite),isResizeBound||(angular.element($window).bind("resize",function(e){$timeout(reposite)}),isResizeBound=!0),deferred.resolve(scope)}).error(function(data){throw new Error("Template ("+args.template+") could not be loaded. "+data)}),deferred.promise};return notify.primary=function(args){return this(args,"primary")},notify.error=function(args){return this(args,"error")},notify.success=function(args){return this(args,"success")},notify.info=function(args){return this(args,"info")},notify.warning=function(args){return this(args,"warning")},notify.clearAll=function(){angular.forEach(messageElements,function(element){element.addClass("killed")})},notify}]}),angular.module("ui-notification").run(["$templateCache",function($templateCache){$templateCache.put("angular-ui-notification.html",'<div class="ui-notification"><h3 ng-show="title" ng-bind-html="title"></h3><div class="message" ng-bind-html="message"></div></div>')}])},{}],"/home/circleci/project/node_modules/angular-ui-notification/index.js":[function(require,module,exports){require("./dist/angular-ui-notification.js"),module.exports="ui-notification"},{"./dist/angular-ui-notification.js":"/home/circleci/project/node_modules/angular-ui-notification/dist/angular-ui-notification.js"}],"/home/circleci/project/node_modules/angular-ui-router/release/angular-ui-router.js":[function(require,module,exports){!function webpackUniversalModuleDefinition(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define("angular-ui-router",[],factory):"object"==typeof exports?exports["angular-ui-router"]=factory():root["angular-ui-router"]=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(1)),__export(__webpack_require__(52)),__export(__webpack_require__(53)),__webpack_require__(55),__webpack_require__(56),__webpack_require__(57),__webpack_require__(58),Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]="ui.router"},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(2)),__export(__webpack_require__(20)),__export(__webpack_require__(43)),__export(__webpack_require__(39)),__export(__webpack_require__(17)),__export(__webpack_require__(13)),__export(__webpack_require__(44)),__export(__webpack_require__(48));var router_1=__webpack_require__(50);exports.UIRouter=router_1.UIRouter},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(3)),__export(__webpack_require__(6)),__export(__webpack_require__(7)),__export(__webpack_require__(5)),__export(__webpack_require__(4)),__export(__webpack_require__(8)),__export(__webpack_require__(9)),__export(__webpack_require__(12))},function(module,exports,__webpack_require__){"use strict";function bindFunctions(from,to,bindTo,fnNames){return void 0===fnNames&&(fnNames=Object.keys(from)),fnNames.filter(function(name){return"function"==typeof from[name]}).forEach(function(name){return to[name]=from[name].bind(bindTo)})}function defaults(opts){void 0===opts&&(opts={});for(var defaultsList=[],_i=1;_i<arguments.length;_i++)defaultsList[_i-1]=arguments[_i];var defaults=merge.apply(null,[{}].concat(defaultsList));return exports.extend({},defaults,pick(opts||{},Object.keys(defaults)))}function merge(dst){for(var objs=[],_i=1;_i<arguments.length;_i++)objs[_i-1]=arguments[_i];return exports.forEach(objs,function(obj){exports.forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function equalForKeys(a,b,keys){void 0===keys&&(keys=Object.keys(a));for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function pickOmitImpl(predicate,obj){var objCopy={},keys=restArgs(arguments,2);for(var key in obj)predicate(keys,key)&&(objCopy[key]=obj[key]);return objCopy}function pick(obj){return pickOmitImpl.apply(null,[inArray].concat(restArgs(arguments)))}function omit(obj){return pickOmitImpl.apply(null,[hof_1.not(inArray)].concat(restArgs(arguments)))}function pluck(collection,propName){return map(collection,hof_1.prop(propName))}function filter(collection,callback){var arr=predicates_1.isArray(collection),result=arr?[]:{},accept=arr?function(x){return result.push(x)}:function(x,key){return result[key]=x};return exports.forEach(collection,function(item,i){callback(item,i)&&accept(item,i)}),result}function find(collection,callback){var result;return exports.forEach(collection,function(item,i){result||callback(item,i)&&(result=item)}),result}function map(collection,callback){var result=predicates_1.isArray(collection)?[]:{};return exports.forEach(collection,function(item,i){return result[i]=callback(item,i)}),result}function pushR(arr,obj){return arr.push(obj),arr}function assertPredicate(fn,errMsg){return void 0===errMsg&&(errMsg="assert failure"),function(obj){if(!fn(obj))throw new Error(predicates_1.isFunction(errMsg)?errMsg(obj):errMsg);return!0}}function arrayTuples(){for(var arrayArgs=[],_i=0;_i<arguments.length;_i++)arrayArgs[_i-0]=arguments[_i];if(0===arrayArgs.length)return[];var length=arrayArgs.reduce(function(min,arr){return Math.min(arr.length,min)},9007199254740991);return Array.apply(null,Array(length)).map(function(ignored,idx){return arrayArgs.map(function(arr){return arr[idx]})})}function applyPairs(memo,keyValTuple){var key,value;if(predicates_1.isArray(keyValTuple)&&(key=keyValTuple[0],value=keyValTuple[1]),!predicates_1.isString(key))throw new Error("invalid parameters to applyPairs");return memo[key]=value,memo}function tail(arr){return arr.length&&arr[arr.length-1]||void 0}function _copy(src,dest){return dest&&Object.keys(dest).forEach(function(key){return delete dest[key]}),dest||(dest={}),exports.extend(dest,src)}function _forEach(obj,cb,_this){return predicates_1.isArray(obj)?obj.forEach(cb,_this):void Object.keys(obj).forEach(function(key){return cb(obj[key],key)})}function _copyProps(to,from){return Object.keys(from).forEach(function(key){return to[key]=from[key]}),to}function _extend(toObj,rest){return restArgs(arguments,1).filter(exports.identity).reduce(_copyProps,toObj)}function _equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var t1=typeof o1,t2=typeof o2;if(t1!==t2||"object"!==t1)return!1;var tup=[o1,o2];if(hof_1.all(predicates_1.isArray)(tup))return _arraysEq(o1,o2);if(hof_1.all(predicates_1.isDate)(tup))return o1.getTime()===o2.getTime();if(hof_1.all(predicates_1.isRegExp)(tup))return o1.toString()===o2.toString();if(hof_1.all(predicates_1.isFunction)(tup))return!0;var predicates=[predicates_1.isFunction,predicates_1.isArray,predicates_1.isDate,predicates_1.isRegExp];if(predicates.map(hof_1.any).reduce(function(b,fn){return b||!!fn(tup)},!1))return!1;var key,keys={};for(key in o1){if(!_equals(o1[key],o2[key]))return!1;keys[key]=!0}for(key in o2)if(!keys[key])return!1;return!0}function _arraysEq(a1,a2){return a1.length!==a2.length?!1:arrayTuples(a1,a2).reduce(function(b,t){return b&&_equals(t[0],t[1])},!0)}var predicates_1=__webpack_require__(4),hof_1=__webpack_require__(5),angular=window.angular||{};exports.fromJson=angular.fromJson||JSON.parse.bind(JSON),exports.toJson=angular.toJson||JSON.stringify.bind(JSON),exports.copy=angular.copy||_copy,exports.forEach=angular.forEach||_forEach,exports.extend=angular.extend||_extend,exports.equals=angular.equals||_equals,exports.identity=function(x){return x},exports.noop=function(){},exports.abstractKey="abstract",exports.bindFunctions=bindFunctions,exports.inherit=function(parent,extra){return exports.extend(new(exports.extend(function(){},{prototype:parent})),extra)};var restArgs=function(args,idx){return void 0===idx&&(idx=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(args,idx))},inArray=function(array,obj){return-1!==array.indexOf(obj)};exports.removeFrom=hof_1.curry(function(array,obj){var idx=array.indexOf(obj);return idx>=0&&array.splice(idx,1),array}),exports.defaults=defaults,exports.merge=merge,exports.mergeR=function(memo,item){return exports.extend(memo,item)},exports.ancestors=ancestors,exports.equalForKeys=equalForKeys,exports.pick=pick,exports.omit=omit,exports.pluck=pluck,exports.filter=filter,exports.find=find,exports.mapObj=map,exports.map=map,exports.values=function(obj){return Object.keys(obj).map(function(key){return obj[key]})},exports.allTrueR=function(memo,elem){return memo&&elem},exports.anyTrueR=function(memo,elem){return memo||elem},exports.unnestR=function(memo,elem){return memo.concat(elem)},exports.flattenR=function(memo,elem){return predicates_1.isArray(elem)?memo.concat(elem.reduce(exports.flattenR,[])):pushR(memo,elem)},exports.unnest=function(arr){return arr.reduce(exports.unnestR,[])},exports.flatten=function(arr){return arr.reduce(exports.flattenR,[])},exports.assertPredicate=assertPredicate,exports.pairs=function(object){return Object.keys(object).map(function(key){return[key,object[key]]})},exports.arrayTuples=arrayTuples,exports.applyPairs=applyPairs,exports.tail=tail},function(module,exports,__webpack_require__){"use strict";function isInjectable(val){if(exports.isArray(val)&&val.length){var head=val.slice(0,-1),tail=val.slice(-1);return!(head.filter(hof_1.not(exports.isString)).length||tail.filter(hof_1.not(exports.isFunction)).length)}return exports.isFunction(val)}var hof_1=__webpack_require__(5),toStr=Object.prototype.toString,tis=function(t){return function(x){return typeof x===t}};exports.isUndefined=tis("undefined"),exports.isDefined=hof_1.not(exports.isUndefined),exports.isNull=function(o){return null===o},exports.isFunction=tis("function"),exports.isNumber=tis("number"),exports.isString=tis("string"),exports.isObject=function(x){return null!==x&&"object"==typeof x},exports.isArray=Array.isArray,exports.isDate=function(x){return"[object Date]"===toStr.call(x)},exports.isRegExp=function(x){return"[object RegExp]"===toStr.call(x)},exports.isInjectable=isInjectable,exports.isPromise=hof_1.and(exports.isObject,hof_1.pipe(hof_1.prop("then"),exports.isFunction))},function(module,exports){"use strict";function curry(fn){function curried(args){return args.length>=func_args_length?fn.apply(null,args):function(){return curried(args.concat([].slice.apply(arguments)))}}var initial_args=[].slice.apply(arguments,[1]),func_args_length=fn.length;return curried(initial_args)}function compose(){var args=arguments,start=args.length-1;return function(){for(var i=start,result=args[start].apply(this,arguments);i--;)result=args[i].call(this,result);return result}}function pipe(){for(var funcs=[],_i=0;_i<arguments.length;_i++)funcs[_i-0]=arguments[_i];return compose.apply(null,[].slice.call(arguments).reverse())}function and(fn1,fn2){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return fn1.apply(null,args)&&fn2.apply(null,args)}}function or(fn1,fn2){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return fn1.apply(null,args)||fn2.apply(null,args)}}function invoke(fnName,args){return function(obj){return obj[fnName].apply(obj,args)}}function pattern(struct){return function(x){for(var i=0;i<struct.length;i++)if(struct[i][0](x))return struct[i][1](x)}}exports.curry=curry,exports.compose=compose,exports.pipe=pipe,exports.prop=function(name){return function(obj){return obj&&obj[name]}},exports.propEq=curry(function(name,val,obj){return obj&&obj[name]===val}),exports.parse=function(name){return pipe.apply(null,name.split(".").map(exports.prop))},exports.not=function(fn){return function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i-0]=arguments[_i];return!fn.apply(null,args)}},exports.and=and,exports.or=or,exports.all=function(fn1){return function(arr){return arr.reduce(function(b,x){return b&&!!fn1(x)},!0)}},exports.any=function(fn1){return function(arr){return arr.reduce(function(b,x){return b||!!fn1(x)},!1)}},exports.none=exports.not(exports.any),exports.is=function(ctor){return function(obj){return null!=obj&&obj.constructor===ctor||obj instanceof ctor}},exports.eq=function(val){return function(other){return val===other}},exports.val=function(v){return function(){return v}},exports.invoke=invoke,exports.pattern=pattern},function(module,exports){"use strict";var notImplemented=function(fnname){return function(){throw new Error(fnname+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}},services={$q:void 0,$injector:void 0,location:{},locationConfig:{},template:{}};exports.services=services,["replace","url","path","search","hash","onChange"].forEach(function(key){return services.location[key]=notImplemented(key)}),["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(key){return services.locationConfig[key]=notImplemented(key)})},function(module,exports){"use strict";var Glob=function(){function Glob(text){this.text=text,this.glob=text.split(".")}return Glob.prototype.matches=function(name){for(var segments=name.split("."),i=0,l=this.glob.length;l>i;i++)"*"===this.glob[i]&&(segments[i]="*");return"**"===this.glob[0]&&(segments=segments.slice(segments.indexOf(this.glob[1])),segments.unshift("**")),"**"===this.glob[this.glob.length-1]&&(segments.splice(segments.indexOf(this.glob[this.glob.length-2])+1,Number.MAX_VALUE),segments.push("**")),this.glob.length!=segments.length?!1:segments.join("")===this.glob.join("")},Glob.is=function(text){return text.indexOf("*")>-1},Glob.fromString=function(text){return this.is(text)?new Glob(text):null},Glob}();exports.Glob=Glob},function(module,exports){"use strict";var Queue=function(){function Queue(_items){void 0===_items&&(_items=[]),this._items=_items}return Queue.prototype.enqueue=function(item){return this._items.push(item),item},Queue.prototype.dequeue=function(){return this.size()?this._items.splice(0,1)[0]:void 0},Queue.prototype.clear=function(){var current=this._items;return this._items=[],current},Queue.prototype.size=function(){return this._items.length},Queue.prototype.remove=function(item){var idx=this._items.indexOf(item);return idx>-1&&this._items.splice(idx,1)[0]},Queue.prototype.peekTail=function(){return this._items[this._items.length-1]},Queue.prototype.peekHead=function(){return this.size()?this._items[0]:void 0},Queue}();exports.Queue=Queue},function(module,exports,__webpack_require__){"use strict";function maxLength(max,str){return str.length<=max?str:str.substr(0,max-3)+"..."}function padString(length,str){for(;str.length<length;)str+=" ";return str}function promiseToString(p){return hof_1.is(rejectFactory_1.TransitionRejection)(p.reason)?p.reason.toString():"Promise("+JSON.stringify(p)+")"}function functionToString(fn){var fnStr=fnToString(fn),namedFunctionMatch=fnStr.match(/^(function [^ ]+\([^)]*\))/);return namedFunctionMatch?namedFunctionMatch[1]:fnStr}function fnToString(fn){var _fn=predicates_1.isArray(fn)?fn.slice(-1)[0]:fn;return _fn&&_fn.toString()||"undefined"}function stringify(o){function format(val){if(predicates_1.isObject(val)){if(-1!==seen.indexOf(val))return"[circular ref]";seen.push(val)}return stringifyPattern(val)}var seen=[];return JSON.stringify(o,function(key,val){return format(val)}).replace(/\\"/g,'"')}var predicates_1=__webpack_require__(4),rejectFactory_1=__webpack_require__(10),common_1=__webpack_require__(3),hof_1=__webpack_require__(5),transition_1=__webpack_require__(11),resolvable_1=__webpack_require__(32);exports.maxLength=maxLength,exports.padString=padString,exports.kebobString=function(camelCase){return camelCase.replace(/([A-Z])/g,function($1){return"-"+$1.toLowerCase()})},exports.functionToString=functionToString,exports.fnToString=fnToString;var stringifyPattern=hof_1.pattern([[hof_1.not(predicates_1.isDefined),hof_1.val("undefined")],[predicates_1.isNull,hof_1.val("null")],[predicates_1.isPromise,promiseToString],[hof_1.is(transition_1.Transition),hof_1.invoke("toString")],[hof_1.is(resolvable_1.Resolvable),hof_1.invoke("toString")],[predicates_1.isInjectable,functionToString],[hof_1.val(!0),common_1.identity]]);exports.stringify=stringify},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),coreservices_1=__webpack_require__(6),strings_1=__webpack_require__(9);!function(RejectType){RejectType[RejectType.SUPERSEDED=2]="SUPERSEDED",RejectType[RejectType.ABORTED=3]="ABORTED",RejectType[RejectType.INVALID=4]="INVALID",RejectType[RejectType.IGNORED=5]="IGNORED"}(exports.RejectType||(exports.RejectType={}));var RejectType=exports.RejectType,TransitionRejection=function(){function TransitionRejection(type,message,detail){common_1.extend(this,{type:type,message:message,detail:detail})}return TransitionRejection.prototype.toString=function(){var detailString=function(d){return d&&d.toString!==Object.prototype.toString?d.toString():strings_1.stringify(d)},type=this.type,message=this.message,detail=detailString(this.detail);return"TransitionRejection(type: "+type+", message: "+message+", detail: "+detail+")"},TransitionRejection}();exports.TransitionRejection=TransitionRejection;var RejectFactory=function(){function RejectFactory(){}return RejectFactory.prototype.superseded=function(detail,options){var message="The transition has been superseded by a different transition (see detail).",reason=new TransitionRejection(RejectType.SUPERSEDED,message,detail);return options&&options.redirected&&(reason.redirected=!0),common_1.extend(coreservices_1.services.$q.reject(reason),{reason:reason})},RejectFactory.prototype.redirected=function(detail){return this.superseded(detail,{redirected:!0})},RejectFactory.prototype.invalid=function(detail){var message="This transition is invalid (see detail)",reason=new TransitionRejection(RejectType.INVALID,message,detail);return common_1.extend(coreservices_1.services.$q.reject(reason),{reason:reason})},RejectFactory.prototype.ignored=function(detail){var message="The transition was ignored.",reason=new TransitionRejection(RejectType.IGNORED,message,detail);return common_1.extend(coreservices_1.services.$q.reject(reason),{reason:reason})},RejectFactory.prototype.aborted=function(detail){var message="The transition has been aborted.",reason=new TransitionRejection(RejectType.ABORTED,message,detail);return common_1.extend(coreservices_1.services.$q.reject(reason),{reason:reason})},RejectFactory}();exports.RejectFactory=RejectFactory},function(module,exports,__webpack_require__){"use strict";var trace_1=__webpack_require__(12),coreservices_1=__webpack_require__(6),common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),hof_1=__webpack_require__(5),module_1=__webpack_require__(13),node_1=__webpack_require__(38),pathFactory_1=__webpack_require__(37),module_2=__webpack_require__(17),module_3=__webpack_require__(20),module_4=__webpack_require__(39),transitionCount=0,REJECT=new module_1.RejectFactory,stateSelf=hof_1.prop("self"),Transition=function(){function Transition(fromPath,targetState,_transitionService){var _this=this;if(this._transitionService=_transitionService,this._deferred=coreservices_1.services.$q.defer(),this.promise=this._deferred.promise,this.treeChanges=function(){return _this._treeChanges},this.isActive=function(){return _this===_this._options.current()},!targetState.valid())throw new Error(targetState.error());module_1.HookRegistry.mixin(new module_1.HookRegistry,this),this._options=common_1.extend({current:hof_1.val(this)},targetState.options()),this.$id=transitionCount++;var toPath=pathFactory_1.PathFactory.buildToPath(fromPath,targetState);toPath=pathFactory_1.PathFactory.applyViewConfigs(_transitionService.$view,toPath),this._treeChanges=pathFactory_1.PathFactory.treeChanges(fromPath,toPath,this._options.reloadState),pathFactory_1.PathFactory.bindTransitionResolve(this._treeChanges,this)}return Transition.prototype.$from=function(){return common_1.tail(this._treeChanges.from).state},Transition.prototype.$to=function(){return common_1.tail(this._treeChanges.to).state},Transition.prototype.from=function(){return this.$from().self},Transition.prototype.to=function(){return this.$to().self},Transition.prototype.is=function(compare){return compare instanceof Transition?this.is({to:compare.$to().name,from:compare.$from().name}):!(compare.to&&!module_1.matchState(this.$to(),compare.to)||compare.from&&!module_1.matchState(this.$from(),compare.from))},Transition.prototype.params=function(pathname){return void 0===pathname&&(pathname="to"),this._treeChanges[pathname].map(hof_1.prop("paramValues")).reduce(common_1.mergeR,{})},Transition.prototype.resolves=function(){return common_1.map(common_1.tail(this._treeChanges.to).resolveContext.getResolvables(),function(res){return res.data})},Transition.prototype.addResolves=function(resolves,state){void 0===state&&(state="");var stateName="string"==typeof state?state:state.name,topath=this._treeChanges.to,targetNode=common_1.find(topath,function(node){return node.state.name===stateName});common_1.tail(topath).resolveContext.addResolvables(module_4.Resolvable.makeResolvables(resolves),targetNode.state)},Transition.prototype.previous=function(){return this._options.previous||null},Transition.prototype.options=function(){return this._options},Transition.prototype.entering=function(){return common_1.map(this._treeChanges.entering,hof_1.prop("state")).map(stateSelf)},Transition.prototype.exiting=function(){return common_1.map(this._treeChanges.exiting,hof_1.prop("state")).map(stateSelf).reverse()},Transition.prototype.retained=function(){return common_1.map(this._treeChanges.retained,hof_1.prop("state")).map(stateSelf)},Transition.prototype.views=function(pathname,state){void 0===pathname&&(pathname="entering");var path=this._treeChanges[pathname];return path=state?path.filter(hof_1.propEq("state",state)):path,path.map(hof_1.prop("views")).filter(common_1.identity).reduce(common_1.unnestR,[])},Transition.prototype.redirect=function(targetState){var newOptions=common_1.extend({},this.options(),targetState.options(),{previous:this});targetState=new module_2.TargetState(targetState.identifier(),targetState.$state(),targetState.params(),newOptions);var redirectTo=new Transition(this._treeChanges.from,targetState,this._transitionService),reloadState=targetState.options().reloadState,redirectedPath=this.treeChanges().to,copyResolvesFor=node_1.Node.matching(redirectTo.treeChanges().to,redirectedPath).filter(function(node){return!reloadState||!reloadState.includes[node.state.name]}),includeResolve=function(resolve,key){return-1===["$stateParams","$transition$"].indexOf(key)};return copyResolvesFor.forEach(function(node,idx){return common_1.extend(node.resolves,common_1.filter(redirectedPath[idx].resolves,includeResolve))}),redirectTo},Transition.prototype._changedParams=function(){var _a=this._treeChanges,to=_a.to,from=_a.from;if(!this._options.reload&&common_1.tail(to).state===common_1.tail(from).state){var nodeSchemas=to.map(function(node){return node.paramSchema}),_b=[to,from].map(function(path){return path.map(function(x){return x.paramValues})}),toValues=_b[0],fromValues=_b[1],tuples=common_1.arrayTuples(nodeSchemas,toValues,fromValues);return tuples.map(function(_a){var schema=_a[0],toVals=_a[1],fromVals=_a[2];return module_3.Param.changed(schema,toVals,fromVals)}).reduce(common_1.unnestR,[])}},Transition.prototype.dynamic=function(){var changes=this._changedParams();return changes?changes.map(function(x){return x.dynamic}).reduce(common_1.anyTrueR,!1):!1},Transition.prototype.ignored=function(){var changes=this._changedParams();return changes?0===changes.length:!1},Transition.prototype.hookBuilder=function(){return new module_1.HookBuilder(this._transitionService,this,{transition:this,current:this._options.current})},Transition.prototype.run=function(){var _this=this,hookBuilder=this.hookBuilder(),runSynchronousHooks=module_1.TransitionHook.runSynchronousHooks,runSuccessHooks=function(){return runSynchronousHooks(hookBuilder.getOnSuccessHooks(),{},!0)},runErrorHooks=function($error$){return runSynchronousHooks(hookBuilder.getOnErrorHooks(),{$error$:$error$},!0)};this.promise.then(runSuccessHooks,runErrorHooks);var syncResult=runSynchronousHooks(hookBuilder.getOnBeforeHooks());if(module_1.TransitionHook.isRejection(syncResult)){var rejectReason=syncResult.reason;return this._deferred.reject(rejectReason),this.promise}if(!this.valid()){var error=new Error(this.error());return this._deferred.reject(error),this.promise}if(this.ignored()){trace_1.trace.traceTransitionIgnored(this);var ignored=REJECT.ignored();return this._deferred.reject(ignored.reason),this.promise}var resolve=function(){_this._deferred.resolve(_this),trace_1.trace.traceSuccess(_this.$to(),_this)},reject=function(error){return _this._deferred.reject(error),trace_1.trace.traceError(error,_this),coreservices_1.services.$q.reject(error)};trace_1.trace.traceTransitionStart(this);var chain=hookBuilder.asyncHooks().reduce(function(_chain,step){return _chain.then(step.invokeStep)},syncResult);return chain.then(resolve,reject),this.promise},Transition.prototype.valid=function(){return!this.error()},Transition.prototype.error=function(){var state=this.$to();return state.self[common_1.abstractKey]?"Cannot transition to abstract state '"+state.name+"'":module_3.Param.validates(state.parameters(),this.params())?void 0:"Param values not valid for state '"+state.name+"'"},Transition.prototype.toString=function(){var fromStateOrName=this.from(),toStateOrName=this.to(),avoidEmptyHash=function(params){return null!==params["#"]&&void 0!==params["#"]?params:common_1.omit(params,"#")},id=this.$id,from=predicates_1.isObject(fromStateOrName)?fromStateOrName.name:fromStateOrName,fromParams=common_1.toJson(avoidEmptyHash(this._treeChanges.from.map(hof_1.prop("paramValues")).reduce(common_1.mergeR,{}))),toValid=this.valid()?"":"(X) ",to=predicates_1.isObject(toStateOrName)?toStateOrName.name:toStateOrName,toParams=common_1.toJson(avoidEmptyHash(this.params()));return"Transition#"+id+"( '"+from+"'"+fromParams+" -> "+toValid+"'"+to+"'"+toParams+" )"},Transition}();exports.Transition=Transition},function(module,exports,__webpack_require__){"use strict";function uiViewString(viewData){return viewData?"ui-view id#"+viewData.id+", contextual name '"+viewData.name+"@"+viewData.creationContext+"', fqn: '"+viewData.fqn+"'":"ui-view (defunct)"}function normalizedCat(input){return predicates_1.isNumber(input)?Category[input]:Category[Category[input]]}var hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),strings_1=__webpack_require__(9),viewConfigString=function(viewConfig){return"ViewConfig targeting ui-view: '"+viewConfig.viewDecl.$uiViewName+"@"+viewConfig.viewDecl.$uiViewContextAnchor+"', context: '"+viewConfig.viewDecl.$context.name+"'";
};!function(Category){Category[Category.RESOLVE=0]="RESOLVE",Category[Category.TRANSITION=1]="TRANSITION",Category[Category.HOOK=2]="HOOK",Category[Category.INVOKE=3]="INVOKE",Category[Category.UIVIEW=4]="UIVIEW",Category[Category.VIEWCONFIG=5]="VIEWCONFIG"}(exports.Category||(exports.Category={}));var Category=exports.Category,Trace=function(){function Trace(){var _this=this;this._enabled={},this.enable=function(){for(var categories=[],_i=0;_i<arguments.length;_i++)categories[_i-0]=arguments[_i];return _this._set(!0,categories)},this.disable=function(){for(var categories=[],_i=0;_i<arguments.length;_i++)categories[_i-0]=arguments[_i];return _this._set(!1,categories)},this.approximateDigests=0}return Trace.prototype._set=function(enabled,categories){var _this=this;categories.length||(categories=Object.keys(Category).filter(function(k){return isNaN(parseInt(k,10))}).map(function(key){return Category[key]})),categories.map(normalizedCat).forEach(function(category){return _this._enabled[category]=enabled})},Trace.prototype.enabled=function(category){return!!this._enabled[normalizedCat(category)]},Trace.prototype.traceTransitionStart=function(transition){if(this.enabled(Category.TRANSITION)){var tid=transition.$id,digest=this.approximateDigests,transitionStr=strings_1.stringify(transition);console.log("Transition #"+tid+" Digest #"+digest+": Started  -> "+transitionStr)}},Trace.prototype.traceTransitionIgnored=function(transition){if(this.enabled(Category.TRANSITION)){var tid=transition.$id,digest=this.approximateDigests,transitionStr=strings_1.stringify(transition);console.log("Transition #"+tid+" Digest #"+digest+": Ignored  <> "+transitionStr)}},Trace.prototype.traceHookInvocation=function(step,options){if(this.enabled(Category.HOOK)){var tid=hof_1.parse("transition.$id")(options),digest=this.approximateDigests,event=hof_1.parse("traceData.hookType")(options)||"internal",context=hof_1.parse("traceData.context.state.name")(options)||hof_1.parse("traceData.context")(options)||"unknown",name=strings_1.functionToString(step.fn);console.log("Transition #"+tid+" Digest #"+digest+":   Hook -> "+event+" context: "+context+", "+strings_1.maxLength(200,name))}},Trace.prototype.traceHookResult=function(hookResult,transitionResult,transitionOptions){if(this.enabled(Category.HOOK)){var tid=hof_1.parse("transition.$id")(transitionOptions),digest=this.approximateDigests,hookResultStr=strings_1.stringify(hookResult),transitionResultStr=strings_1.stringify(transitionResult);console.log("Transition #"+tid+" Digest #"+digest+":   <- Hook returned: "+strings_1.maxLength(200,hookResultStr)+", transition result: "+strings_1.maxLength(200,transitionResultStr))}},Trace.prototype.traceResolvePath=function(path,options){if(this.enabled(Category.RESOLVE)){var tid=hof_1.parse("transition.$id")(options),digest=this.approximateDigests,pathStr=path&&path.toString(),policyStr=options&&options.resolvePolicy;console.log("Transition #"+tid+" Digest #"+digest+":         Resolving "+pathStr+" ("+policyStr+")")}},Trace.prototype.traceResolvePathElement=function(pathElement,resolvablePromises,options){if(this.enabled(Category.RESOLVE)&&resolvablePromises.length){var tid=hof_1.parse("transition.$id")(options),digest=this.approximateDigests,resolvablePromisesStr=Object.keys(resolvablePromises).join(", "),pathElementStr=pathElement&&pathElement.toString(),policyStr=options&&options.resolvePolicy;console.log("Transition #"+tid+" Digest #"+digest+":         Resolve "+pathElementStr+" resolvables: ["+resolvablePromisesStr+"] ("+policyStr+")")}},Trace.prototype.traceResolveResolvable=function(resolvable,options){if(this.enabled(Category.RESOLVE)){var tid=hof_1.parse("transition.$id")(options),digest=this.approximateDigests,resolvableStr=resolvable&&resolvable.toString();console.log("Transition #"+tid+" Digest #"+digest+":               Resolving -> "+resolvableStr)}},Trace.prototype.traceResolvableResolved=function(resolvable,options){if(this.enabled(Category.RESOLVE)){var tid=hof_1.parse("transition.$id")(options),digest=this.approximateDigests,resolvableStr=resolvable&&resolvable.toString(),result=strings_1.stringify(resolvable.data);console.log("Transition #"+tid+" Digest #"+digest+":               <- Resolved  "+resolvableStr+" to: "+strings_1.maxLength(200,result))}},Trace.prototype.tracePathElementInvoke=function(node,fn,deps,options){if(this.enabled(Category.INVOKE)){var tid=hof_1.parse("transition.$id")(options),digest=this.approximateDigests,stateName=node&&node.state&&node.state.toString(),fnName=strings_1.functionToString(fn);console.log("Transition #"+tid+" Digest #"+digest+":         Invoke "+options.when+": context: "+stateName+" "+strings_1.maxLength(200,fnName))}},Trace.prototype.traceError=function(error,transition){if(this.enabled(Category.TRANSITION)){var tid=transition.$id,digest=this.approximateDigests,transitionStr=strings_1.stringify(transition);console.log("Transition #"+tid+" Digest #"+digest+": <- Rejected "+transitionStr+", reason: "+error)}},Trace.prototype.traceSuccess=function(finalState,transition){if(this.enabled(Category.TRANSITION)){var tid=transition.$id,digest=this.approximateDigests,state=finalState.name,transitionStr=strings_1.stringify(transition);console.log("Transition #"+tid+" Digest #"+digest+": <- Success  "+transitionStr+", final state: "+state)}},Trace.prototype.traceUiViewEvent=function(event,viewData,extra){void 0===extra&&(extra=""),this.enabled(Category.UIVIEW)&&console.log("ui-view: "+strings_1.padString(30,event)+" "+uiViewString(viewData)+extra)},Trace.prototype.traceUiViewConfigUpdated=function(viewData,context){this.enabled(Category.UIVIEW)&&this.traceUiViewEvent("Updating",viewData," with ViewConfig from context='"+context+"'")},Trace.prototype.traceUiViewScopeCreated=function(viewData,newScope){this.enabled(Category.UIVIEW)&&this.traceUiViewEvent("Created scope for",viewData,", scope #"+newScope.$id)},Trace.prototype.traceUiViewFill=function(viewData,html){this.enabled(Category.UIVIEW)&&this.traceUiViewEvent("Fill",viewData," with: "+strings_1.maxLength(200,html))},Trace.prototype.traceViewServiceEvent=function(event,viewConfig){this.enabled(Category.VIEWCONFIG)&&console.log("$view.ViewConfig: "+event+" "+viewConfigString(viewConfig))},Trace.prototype.traceViewServiceUiViewEvent=function(event,viewData){this.enabled(Category.VIEWCONFIG)&&console.log("$view.ViewConfig: "+event+" "+uiViewString(viewData))},Trace}();exports.Trace=Trace;var trace=new Trace;exports.trace=trace},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(14)),__export(__webpack_require__(15)),__export(__webpack_require__(10)),__export(__webpack_require__(11)),__export(__webpack_require__(16)),__export(__webpack_require__(42))},function(module,exports,__webpack_require__){"use strict";function tupleSort(reverseDepthSort){return void 0===reverseDepthSort&&(reverseDepthSort=!1),function nodeDepthThenPriority(l,r){var factor=reverseDepthSort?-1:1,depthDelta=(l.node.state.path.length-r.node.state.path.length)*factor;return 0!==depthDelta?depthDelta:r.hook.priority-l.hook.priority}}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),module_1=__webpack_require__(13),HookBuilder=function(){function HookBuilder($transitions,transition,baseHookOptions){var _this=this;this.$transitions=$transitions,this.transition=transition,this.baseHookOptions=baseHookOptions,this.getOnBeforeHooks=function(){return _this._buildNodeHooks("onBefore","to",tupleSort(),void 0,{async:!1})},this.getOnStartHooks=function(){return _this._buildNodeHooks("onStart","to",tupleSort())},this.getOnExitHooks=function(){return _this._buildNodeHooks("onExit","exiting",tupleSort(!0),function(node){return{$state$:node.state}})},this.getOnRetainHooks=function(){return _this._buildNodeHooks("onRetain","retained",tupleSort(),function(node){return{$state$:node.state}})},this.getOnEnterHooks=function(){return _this._buildNodeHooks("onEnter","entering",tupleSort(),function(node){return{$state$:node.state}})},this.getOnFinishHooks=function(){return _this._buildNodeHooks("onFinish","to",tupleSort(),function(node){return{$treeChanges$:_this.treeChanges}})},this.getOnSuccessHooks=function(){return _this._buildNodeHooks("onSuccess","to",tupleSort(),void 0,{async:!1,rejectIfSuperseded:!1})},this.getOnErrorHooks=function(){return _this._buildNodeHooks("onError","to",tupleSort(),void 0,{async:!1,rejectIfSuperseded:!1})},this.treeChanges=transition.treeChanges(),this.toState=common_1.tail(this.treeChanges.to).state,this.fromState=common_1.tail(this.treeChanges.from).state,this.transitionOptions=transition.options()}return HookBuilder.prototype.asyncHooks=function(){var onStartHooks=this.getOnStartHooks(),onExitHooks=this.getOnExitHooks(),onRetainHooks=this.getOnRetainHooks(),onEnterHooks=this.getOnEnterHooks(),onFinishHooks=this.getOnFinishHooks(),asyncHooks=[onStartHooks,onExitHooks,onRetainHooks,onEnterHooks,onFinishHooks];return asyncHooks.reduce(common_1.unnestR,[]).filter(common_1.identity)},HookBuilder.prototype._buildNodeHooks=function(hookType,matchingNodesProp,sortHooksFn,getLocals,options){var _this=this;void 0===getLocals&&(getLocals=function(node){return{}}),void 0===options&&(options={});var matchingHooks=this._matchingHooks(hookType,this.treeChanges);if(!matchingHooks)return[];var makeTransitionHooks=function(hook){var matches=hook.matches(_this.treeChanges),nodes=matches[matchingNodesProp];return nodes.map(function(node){var _options=common_1.extend({traceData:{hookType:hookType,context:node}},_this.baseHookOptions,options),transitionHook=new module_1.TransitionHook(hook.callback,getLocals(node),node.resolveContext,_options);return{hook:hook,node:node,transitionHook:transitionHook}})};return matchingHooks.map(makeTransitionHooks).reduce(common_1.unnestR,[]).sort(sortHooksFn).map(function(tuple){return tuple.transitionHook})},HookBuilder.prototype._matchingHooks=function(hookName,treeChanges){return[this.transition,this.$transitions].map(function(reg){return reg.getHooks(hookName)}).filter(common_1.assertPredicate(predicates_1.isArray,"broken event named: "+hookName)).reduce(common_1.unnestR,[]).filter(function(hook){return hook.matches(treeChanges)})},HookBuilder}();exports.HookBuilder=HookBuilder},function(module,exports,__webpack_require__){"use strict";function matchState(state,criterion){function matchGlobs(_state){for(var globStrings=toMatch,i=0;i<globStrings.length;i++){var glob=glob_1.Glob.fromString(globStrings[i]);if(glob&&glob.matches(_state.name)||!glob&&globStrings[i]===_state.name)return!0}return!1}var toMatch=predicates_1.isString(criterion)?[criterion]:criterion,matchFn=predicates_1.isFunction(toMatch)?toMatch:matchGlobs;return!!matchFn(state)}function makeHookRegistrationFn(hooks,name){return function(matchObject,callback,options){void 0===options&&(options={});var eventHook=new EventHook(matchObject,callback,options);return hooks[name].push(eventHook),function deregisterEventHook(){common_1.removeFrom(hooks[name])(eventHook)}}}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),glob_1=__webpack_require__(7);exports.matchState=matchState;var EventHook=function(){function EventHook(matchCriteria,callback,options){void 0===options&&(options={}),this.callback=callback,this.matchCriteria=common_1.extend({to:!0,from:!0,exiting:!0,retained:!0,entering:!0},matchCriteria),this.priority=options.priority||0}return EventHook._matchingNodes=function(nodes,criterion){if(criterion===!0)return nodes;var matching=nodes.filter(function(node){return matchState(node.state,criterion)});return matching.length?matching:null},EventHook.prototype.matches=function(treeChanges){var mc=this.matchCriteria,_matchingNodes=EventHook._matchingNodes,matches={to:_matchingNodes([common_1.tail(treeChanges.to)],mc.to),from:_matchingNodes([common_1.tail(treeChanges.from)],mc.from),exiting:_matchingNodes(treeChanges.exiting,mc.exiting),retained:_matchingNodes(treeChanges.retained,mc.retained),entering:_matchingNodes(treeChanges.entering,mc.entering)},allMatched=["to","from","exiting","retained","entering"].map(function(prop){return matches[prop]}).reduce(common_1.allTrueR,!0);return allMatched?matches:null},EventHook}();exports.EventHook=EventHook;var HookRegistry=function(){function HookRegistry(){var _this=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]},this.getHooks=function(name){return _this._transitionEvents[name]},this.onBefore=makeHookRegistrationFn(this._transitionEvents,"onBefore"),this.onStart=makeHookRegistrationFn(this._transitionEvents,"onStart"),this.onEnter=makeHookRegistrationFn(this._transitionEvents,"onEnter"),this.onRetain=makeHookRegistrationFn(this._transitionEvents,"onRetain"),this.onExit=makeHookRegistrationFn(this._transitionEvents,"onExit"),this.onFinish=makeHookRegistrationFn(this._transitionEvents,"onFinish"),this.onSuccess=makeHookRegistrationFn(this._transitionEvents,"onSuccess"),this.onError=makeHookRegistrationFn(this._transitionEvents,"onError")}return HookRegistry.mixin=function(source,target){Object.keys(source._transitionEvents).concat(["getHooks"]).forEach(function(key){return target[key]=source[key]})},HookRegistry}();exports.HookRegistry=HookRegistry},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),strings_1=__webpack_require__(9),predicates_1=__webpack_require__(4),hof_1=__webpack_require__(5),trace_1=__webpack_require__(12),coreservices_1=__webpack_require__(6),rejectFactory_1=__webpack_require__(10),module_1=__webpack_require__(17),REJECT=new rejectFactory_1.RejectFactory,defaultOptions={async:!0,rejectIfSuperseded:!0,current:common_1.noop,transition:null,traceData:{}},TransitionHook=function(){function TransitionHook(fn,locals,resolveContext,options){var _this=this;this.fn=fn,this.locals=locals,this.resolveContext=resolveContext,this.options=options,this.isSuperseded=function(){return _this.options.current()!==_this.options.transition},this.mapHookResult=hof_1.pattern([[this.isSuperseded,function(){return REJECT.superseded(_this.options.current())}],[hof_1.eq(!1),function(){return REJECT.aborted("Hook aborted transition")}],[hof_1.is(module_1.TargetState),function(target){return REJECT.redirected(target)}],[predicates_1.isPromise,function(promise){return promise.then(_this.handleHookResult.bind(_this))}]]),this.invokeStep=function(moreLocals){var _a=_this,options=_a.options,fn=_a.fn,resolveContext=_a.resolveContext,locals=common_1.extend({},_this.locals,moreLocals);if(trace_1.trace.traceHookInvocation(_this,options),options.rejectIfSuperseded&&_this.isSuperseded())return REJECT.superseded(options.current());if(!options.async){var hookResult=resolveContext.invokeNow(fn,locals,options);return _this.handleHookResult(hookResult)}return resolveContext.invokeLater(fn,locals,options).then(_this.handleHookResult.bind(_this))},this.options=common_1.defaults(options,defaultOptions)}return TransitionHook.prototype.handleHookResult=function(hookResult){if(predicates_1.isDefined(hookResult)){trace_1.trace.traceHookResult(hookResult,void 0,this.options);var transitionResult=this.mapHookResult(hookResult);return transitionResult&&trace_1.trace.traceHookResult(hookResult,transitionResult,this.options),transitionResult}},TransitionHook.prototype.toString=function(){var _a=this,options=_a.options,fn=_a.fn,event=hof_1.parse("traceData.hookType")(options)||"internal",context=hof_1.parse("traceData.context.state.name")(options)||hof_1.parse("traceData.context")(options)||"unknown",name=strings_1.fnToString(fn);return event+" context: "+context+", "+strings_1.maxLength(200,name)},TransitionHook.runSynchronousHooks=function(hooks,locals,swallowExceptions){void 0===locals&&(locals={}),void 0===swallowExceptions&&(swallowExceptions=!1);for(var results=[],i=0;i<hooks.length;i++)try{results.push(hooks[i].invokeStep(locals))}catch(exception){if(!swallowExceptions)return REJECT.aborted(exception);console.log("Swallowed exception during synchronous hook handler: "+exception)}var rejections=results.filter(TransitionHook.isRejection);return rejections.length?rejections[0]:results.filter(hof_1.not(TransitionHook.isRejection)).filter(predicates_1.isPromise).reduce(function(chain,promise){return chain.then(hof_1.val(promise))},coreservices_1.services.$q.when())},TransitionHook.isRejection=function(hookResult){return hookResult&&hookResult.reason instanceof rejectFactory_1.TransitionRejection&&hookResult},TransitionHook}();exports.TransitionHook=TransitionHook},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(18)),__export(__webpack_require__(19)),__export(__webpack_require__(26)),__export(__webpack_require__(33)),__export(__webpack_require__(34)),__export(__webpack_require__(35)),__export(__webpack_require__(36)),__export(__webpack_require__(27))},function(module,exports,__webpack_require__){"use strict";var predicates_1=__webpack_require__(4),common_1=__webpack_require__(3),StateProvider=function(){function StateProvider(stateRegistry){this.stateRegistry=stateRegistry,this.invalidCallbacks=[],common_1.bindFunctions(StateProvider.prototype,this,this)}return StateProvider.prototype.decorator=function(name,func){return this.stateRegistry.decorator(name,func)||this},StateProvider.prototype.state=function(name,definition){return predicates_1.isObject(name)?definition=name:definition.name=name,this.stateRegistry.register(definition),this},StateProvider.prototype.onInvalid=function(callback){this.invalidCallbacks.push(callback)},StateProvider}();exports.StateProvider=StateProvider},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),hof_1=__webpack_require__(5),module_1=__webpack_require__(20),parseUrl=function(url){if(!predicates_1.isString(url))return!1;var root="^"===url.charAt(0);return{val:root?url.substring(1):url,root:root}},StateBuilder=function(){function StateBuilder(matcher,$urlMatcherFactoryProvider){this.matcher=matcher;var self=this,isRoot=function(state){return""===state.name},root=function(){return matcher.find("")};this.builders={self:[function(state){return state.self.$$state=function(){return state},state.self}],parent:[function(state){return isRoot(state)?null:matcher.find(self.parentName(state))||root()}],data:[function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=common_1.inherit(state.parent.data,state.data)),state.data}],url:[function(state){var stateDec=state,parsed=parseUrl(stateDec.url),parent=state.parent,url=parsed?$urlMatcherFactoryProvider.compile(parsed.val,{params:state.params||{},paramMap:function(paramConfig,isSearch){return stateDec.reloadOnSearch===!1&&isSearch&&(paramConfig=common_1.extend(paramConfig||{},{dynamic:!0})),paramConfig}}):stateDec.url;if(!url)return null;if(!$urlMatcherFactoryProvider.isMatcher(url))throw new Error("Invalid url '"+url+"' in state '"+state+"'");return parsed&&parsed.root?url:(parent&&parent.navigable||root()).url.append(url)}],navigable:[function(state){return!isRoot(state)&&state.url?state:state.parent?state.parent.navigable:null}],params:[function(state){var makeConfigParam=function(config,id){return module_1.Param.fromConfig(id,null,config)},urlParams=state.url&&state.url.parameters({inherit:!1})||[],nonUrlParams=common_1.values(common_1.map(common_1.omit(state.params||{},urlParams.map(hof_1.prop("id"))),makeConfigParam));return urlParams.concat(nonUrlParams).map(function(p){return[p.id,p]}).reduce(common_1.applyPairs,{})}],views:[],path:[function(state){return state.parent?state.parent.path.concat(state):[state]}],includes:[function(state){var includes=state.parent?common_1.extend({},state.parent.includes):{};return includes[state.name]=!0,includes}]}}return StateBuilder.prototype.builder=function(name,fn){var builders=this.builders,array=builders[name]||[];return predicates_1.isString(name)&&!predicates_1.isDefined(fn)?array.length>1?array:array[0]:predicates_1.isString(name)&&predicates_1.isFunction(fn)?(builders[name]=array,builders[name].push(fn),function(){return builders[name].splice(builders[name].indexOf(fn,1))&&null}):void 0},StateBuilder.prototype.build=function(state){var _a=this,matcher=_a.matcher,builders=_a.builders,parent=this.parentName(state);if(parent&&!matcher.find(parent))return null;for(var key in builders)if(builders.hasOwnProperty(key)){var chain=builders[key].reduce(function(parentFn,step){return function(_state){return step(_state,parentFn)}},common_1.noop);state[key]=chain(state)}return state},StateBuilder.prototype.parentName=function(state){var name=state.name||"";return-1!==name.indexOf(".")?name.substring(0,name.lastIndexOf(".")):state.parent?predicates_1.isString(state.parent)?state.parent:state.parent.name:""},StateBuilder.prototype.name=function(state){var name=state.name;if(-1!==name.indexOf(".")||!state.parent)return name;var parentName=predicates_1.isString(state.parent)?state.parent:state.parent.name;return parentName?parentName+"."+name:name},StateBuilder}();exports.StateBuilder=StateBuilder},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(21)),__export(__webpack_require__(24)),__export(__webpack_require__(25)),__export(__webpack_require__(23))},function(module,exports,__webpack_require__){"use strict";function unwrapShorthand(cfg){return cfg=isShorthand(cfg)&&{value:cfg}||cfg,common_1.extend(cfg,{$$fn:predicates_1.isInjectable(cfg.value)?cfg.value:function(){return cfg.value}})}function getType(cfg,urlType,location,id){if(cfg.type&&urlType&&"string"!==urlType.name)throw new Error("Param '"+id+"' has two type configurations.");return cfg.type&&urlType&&"string"===urlType.name&&paramTypes_1.paramTypes.type(cfg.type)?paramTypes_1.paramTypes.type(cfg.type):urlType?urlType:cfg.type?cfg.type instanceof type_1.Type?cfg.type:paramTypes_1.paramTypes.type(cfg.type):location===DefType.CONFIG?paramTypes_1.paramTypes.type("any"):paramTypes_1.paramTypes.type("string")}function getSquashPolicy(config,isOptional){var squash=config.squash;if(!isOptional||squash===!1)return!1;if(!predicates_1.isDefined(squash)||null==squash)return urlMatcherConfig_1.matcherConfig.defaultSquashPolicy();if(squash===!0||predicates_1.isString(squash))return squash;throw new Error("Invalid squash policy: '"+squash+"'. Valid policies: false, true, or arbitrary string")}function getReplace(config,arrayMode,isOptional,squash){var replace,configuredKeys,defaultPolicy=[{from:"",to:isOptional||arrayMode?void 0:""},{from:null,to:isOptional||arrayMode?void 0:""}];return replace=predicates_1.isArray(config.replace)?config.replace:[],predicates_1.isString(squash)&&replace.push({from:squash,to:void 0}),configuredKeys=common_1.map(replace,hof_1.prop("from")),common_1.filter(defaultPolicy,function(item){return-1===configuredKeys.indexOf(item.from)}).concat(replace)}var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),coreservices_1=__webpack_require__(6),urlMatcherConfig_1=__webpack_require__(22),type_1=__webpack_require__(23),paramTypes_1=__webpack_require__(24),hasOwn=Object.prototype.hasOwnProperty,isShorthand=function(cfg){return 0===["value","type","squash","array","dynamic"].filter(hasOwn.bind(cfg||{})).length};!function(DefType){DefType[DefType.PATH=0]="PATH",DefType[DefType.SEARCH=1]="SEARCH",DefType[DefType.CONFIG=2]="CONFIG"}(exports.DefType||(exports.DefType={}));var DefType=exports.DefType,Param=function(){function Param(id,type,config,location){function getArrayMode(){var arrayDefaults={array:location===DefType.SEARCH?"auto":!1},arrayParamNomenclature=id.match(/\[\]$/)?{array:!0}:{};return common_1.extend(arrayDefaults,arrayParamNomenclature,config).array}config=unwrapShorthand(config),type=getType(config,type,location,id);var arrayMode=getArrayMode();type=arrayMode?type.$asArray(arrayMode,location===DefType.SEARCH):type;var isOptional=void 0!==config.value,dynamic=config.dynamic===!0,squash=getSquashPolicy(config,isOptional),replace=getReplace(config,arrayMode,isOptional,squash);common_1.extend(this,{id:id,type:type,location:location,squash:squash,replace:replace,isOptional:isOptional,dynamic:dynamic,config:config,array:arrayMode})}return Param.prototype.isDefaultValue=function(value){return this.isOptional&&this.type.equals(this.value(),value)},Param.prototype.value=function(value){var _this=this,$$getDefaultValue=function(){if(!coreservices_1.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var defaultValue=coreservices_1.services.$injector.invoke(_this.config.$$fn);if(null!==defaultValue&&void 0!==defaultValue&&!_this.type.is(defaultValue))throw new Error("Default value ("+defaultValue+") for parameter '"+_this.id+"' is not an instance of Type ("+_this.type.name+")");return defaultValue},$replace=function(val){var replacement=common_1.map(common_1.filter(_this.replace,hof_1.propEq("from",val)),hof_1.prop("to"));return replacement.length?replacement[0]:val};return value=$replace(value),predicates_1.isDefined(value)?this.type.$normalize(value):$$getDefaultValue()},Param.prototype.isSearch=function(){return this.location===DefType.SEARCH},Param.prototype.validates=function(value){if((!predicates_1.isDefined(value)||null===value)&&this.isOptional)return!0;var normalized=this.type.$normalize(value);if(!this.type.is(normalized))return!1;var encoded=this.type.encode(normalized);return!(predicates_1.isString(encoded)&&!this.type.pattern.exec(encoded))},Param.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},Param.fromConfig=function(id,type,config){return new Param(id,type,config,DefType.CONFIG)},Param.fromPath=function(id,type,config){return new Param(id,type,config,DefType.PATH)},Param.fromSearch=function(id,type,config){return new Param(id,type,config,DefType.SEARCH)},Param.values=function(params,values){return void 0===values&&(values={}),params.map(function(param){return[param.id,param.value(values[param.id])]}).reduce(common_1.applyPairs,{})},Param.changed=function(params,values1,values2){return void 0===values1&&(values1={}),void 0===values2&&(values2={}),params.filter(function(param){return!param.type.equals(values1[param.id],values2[param.id])})},Param.equals=function(params,values1,values2){return void 0===values1&&(values1={}),void 0===values2&&(values2={}),0===Param.changed(params,values1,values2).length},Param.validates=function(params,values){return void 0===values&&(values={}),params.map(function(param){return param.validates(values[param.id])}).reduce(common_1.allTrueR,!0)},Param}();exports.Param=Param},function(module,exports,__webpack_require__){"use strict";var predicates_1=__webpack_require__(4),MatcherConfig=function(){function MatcherConfig(){this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1}return MatcherConfig.prototype.caseInsensitive=function(value){return this._isCaseInsensitive=predicates_1.isDefined(value)?value:this._isCaseInsensitive},MatcherConfig.prototype.strictMode=function(value){return this._isStrictMode=predicates_1.isDefined(value)?value:this._isStrictMode},MatcherConfig.prototype.defaultSquashPolicy=function(value){if(predicates_1.isDefined(value)&&value!==!0&&value!==!1&&!predicates_1.isString(value))throw new Error("Invalid squash policy: "+value+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=predicates_1.isDefined(value)?value:this._defaultSquashPolicy},MatcherConfig}();exports.MatcherConfig=MatcherConfig,exports.matcherConfig=new MatcherConfig},function(module,exports,__webpack_require__){"use strict";function ArrayType(type,mode){function arrayWrap(val){return predicates_1.isArray(val)?val:predicates_1.isDefined(val)?[val]:[]}function arrayUnwrap(val){switch(val.length){case 0:return;case 1:return"auto"===mode?val[0]:val;default:return val}}function arrayHandler(callback,allTruthyMode){return function handleArray(val){if(predicates_1.isArray(val)&&0===val.length)return val;var arr=arrayWrap(val),result=common_1.map(arr,callback);return allTruthyMode===!0?0===common_1.filter(result,function(x){return!x}).length:arrayUnwrap(result)}}function arrayEqualsHandler(callback){return function handleArray(val1,val2){var left=arrayWrap(val1),right=arrayWrap(val2);if(left.length!==right.length)return!1;for(var i=0;i<left.length;i++)if(!callback(left[i],right[i]))return!1;return!0}}var _this=this;["encode","decode","equals","$normalize"].map(function(name){_this[name]=("equals"===name?arrayEqualsHandler:arrayHandler)(type[name].bind(type))}),common_1.extend(this,{name:type.name,pattern:type.pattern,is:arrayHandler(type.is.bind(type),!0),$arrayMode:mode})}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),Type=function(){function Type(def){this.pattern=/.*/,common_1.extend(this,def)}return Type.prototype.is=function(val,key){return!0},Type.prototype.encode=function(val,key){return val},Type.prototype.decode=function(val,key){return val},Type.prototype.equals=function(a,b){return a==b},Type.prototype.$subPattern=function(){var sub=this.pattern.toString();return sub.substr(1,sub.length-2)},Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(val){return this.is(val)?val:this.decode(val)},Type.prototype.$asArray=function(mode,isSearch){if(!mode)return this;if("auto"===mode&&!isSearch)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,mode)},Type}();exports.Type=Type},function(module,exports,__webpack_require__){"use strict";function valToString(val){return null!=val?val.toString().replace(/~/g,"~~").replace(/\//g,"~2F"):val}function valFromString(val){return null!=val?val.toString().replace(/~2F/g,"/").replace(/~~/g,"~"):val}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),hof_1=__webpack_require__(5),coreservices_1=__webpack_require__(6),type_1=__webpack_require__(23),ParamTypes=function(){function ParamTypes(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:valToString,decode:valFromString,is:hof_1.is(String),pattern:/.*/,equals:hof_1.val(!0)},string:{encode:valToString,decode:valFromString,is:hof_1.is(String),pattern:/[^\/]*/},"int":{encode:valToString,decode:function(val){return parseInt(val,10)},is:function(val){return predicates_1.isDefined(val)&&this.decode(val.toString())===val},pattern:/-?\d+/},bool:{encode:function(val){return val&&1||0},decode:function(val){return 0!==parseInt(val,10)},is:hof_1.is(Boolean),pattern:/0|1/},date:{encode:function(val){return this.is(val)?[val.getFullYear(),("0"+(val.getMonth()+1)).slice(-2),("0"+val.getDate()).slice(-2)].join("-"):void 0},decode:function(val){if(this.is(val))return val;var match=this.capture.exec(val);return match?new Date(match[1],match[2]-1,match[3]):void 0},is:function(val){return val instanceof Date&&!isNaN(val.valueOf())},equals:function(l,r){return["getFullYear","getMonth","getDate"].reduce(function(acc,fn){return acc&&l[fn]()===r[fn]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:common_1.toJson,decode:common_1.fromJson,is:hof_1.is(Object),equals:common_1.equals,pattern:/[^\/]*/},any:{encode:common_1.identity,decode:common_1.identity,equals:common_1.equals,pattern:/.*/}};var makeType=function(definition,name){return new type_1.Type(common_1.extend({name:name},definition))};this.types=common_1.inherit(common_1.map(this.defaultTypes,makeType),{})}return ParamTypes.prototype.type=function(name,definition,definitionFn){
if(!predicates_1.isDefined(definition))return this.types[name];if(this.types.hasOwnProperty(name))throw new Error("A type named '"+name+"' has already been defined.");return this.types[name]=new type_1.Type(common_1.extend({name:name},definition)),definitionFn&&(this.typeQueue.push({name:name,def:definitionFn}),this.enqueue||this._flushTypeQueue()),this},ParamTypes.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var type=this.typeQueue.shift();if(type.pattern)throw new Error("You cannot override a type's .pattern at runtime.");common_1.extend(this.types[type.name],coreservices_1.services.$injector.invoke(type.def))}},ParamTypes}();exports.ParamTypes=ParamTypes,exports.paramTypes=new ParamTypes},function(module,exports,__webpack_require__){"use strict";function stateParamsFactory(){return new StateParams}var common_1=__webpack_require__(3),StateParams=function(){function StateParams(params){void 0===params&&(params={}),common_1.extend(this,params)}return StateParams.prototype.$inherit=function(newParams,$current,$to){var parentParams,parents=common_1.ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i]&&parents[i].params&&(parentParams=Object.keys(parents[i].params),parentParams.length))for(var j in parentParams)inheritList.indexOf(parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=this[parentParams[j]]);return common_1.extend({},inherited,newParams)},StateParams}();exports.StateParams=StateParams,exports.stateParamsFactory=stateParamsFactory},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),param_1=__webpack_require__(21),rejectFactory_1=__webpack_require__(10),targetState_1=__webpack_require__(27),viewHooks_1=__webpack_require__(28),enterExitHooks_1=__webpack_require__(29),resolveHooks_1=__webpack_require__(30),TransitionManager=function(){function TransitionManager(transition,$transitions,$urlRouter,$view,$state,$stateParams,$q,activeTransQ,changeHistory){this.transition=transition,this.$transitions=$transitions,this.$urlRouter=$urlRouter,this.$view=$view,this.$state=$state,this.$stateParams=$stateParams,this.$q=$q,this.activeTransQ=activeTransQ,this.changeHistory=changeHistory,this.viewHooks=new viewHooks_1.ViewHooks(transition,$view),this.enterExitHooks=new enterExitHooks_1.EnterExitHooks(transition),this.resolveHooks=new resolveHooks_1.ResolveHooks(transition),this.treeChanges=transition.treeChanges(),this.registerUpdateGlobalState(),this.viewHooks.registerHooks(),this.enterExitHooks.registerHooks(),this.resolveHooks.registerHooks()}return TransitionManager.prototype.runTransition=function(){var _this=this;this.activeTransQ.clear(),this.activeTransQ.enqueue(this.transition),this.$state.transition=this.transition;var promise=this.transition.run().then(function(trans){return trans.to()})["catch"](function(error){return _this.transRejected(error)}),always=function(){_this.activeTransQ.remove(_this.transition),_this.$state.transition===_this.transition&&(_this.transition=null)};return promise.then(always,always),promise},TransitionManager.prototype.registerUpdateGlobalState=function(){this.transition.onFinish({},this.updateGlobalState.bind(this),{priority:-1e4})},TransitionManager.prototype.updateGlobalState=function(){var _a=this,treeChanges=_a.treeChanges,transition=_a.transition,$state=_a.$state,changeHistory=_a.changeHistory;$state.$current=transition.$to(),$state.current=$state.$current.self,changeHistory.enqueue(treeChanges),this.updateStateParams()},TransitionManager.prototype.transRejected=function(error){var _a=this,transition=_a.transition,$state=_a.$state,$stateParams=_a.$stateParams,$q=_a.$q;if(error instanceof rejectFactory_1.TransitionRejection){if(error.type===rejectFactory_1.RejectType.IGNORED){var dynamic=$state.$current.parameters().filter(hof_1.prop("dynamic"));return param_1.Param.equals(dynamic,$stateParams,transition.params())||this.updateStateParams(),$state.current}if(error.type===rejectFactory_1.RejectType.SUPERSEDED&&error.redirected&&error.detail instanceof targetState_1.TargetState)return this._redirectMgr(transition.redirect(error.detail)).runTransition();error.type===rejectFactory_1.RejectType.ABORTED&&this.$urlRouter.update()}return this.$transitions.defaultErrorHandler()(error),$q.reject(error)},TransitionManager.prototype.updateStateParams=function(){var transition=this.transition,_a=this,$urlRouter=_a.$urlRouter,$state=_a.$state,$stateParams=_a.$stateParams,options=transition.options();common_1.copy(transition.params(),$state.params),common_1.copy($state.params,$stateParams),options.location&&$state.$current.navigable&&$urlRouter.push($state.$current.navigable.url,$stateParams,{replace:"replace"===options.location}),$urlRouter.update(!0)},TransitionManager.prototype._redirectMgr=function(redirect){var _a=this,$transitions=_a.$transitions,$urlRouter=_a.$urlRouter,$view=_a.$view,$state=_a.$state,$stateParams=_a.$stateParams,$q=_a.$q,activeTransQ=_a.activeTransQ,changeHistory=_a.changeHistory;return new TransitionManager(redirect,$transitions,$urlRouter,$view,$state,$stateParams,$q,activeTransQ,changeHistory)},TransitionManager}();exports.TransitionManager=TransitionManager},function(module,exports){"use strict";var TargetState=function(){function TargetState(_identifier,_definition,_params,_options){void 0===_params&&(_params={}),void 0===_options&&(_options={}),this._identifier=_identifier,this._definition=_definition,this._options=_options,this._params=_params||{}}return TargetState.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},TargetState.prototype.identifier=function(){return this._identifier},TargetState.prototype.params=function(){return this._params},TargetState.prototype.$state=function(){return this._definition},TargetState.prototype.state=function(){return this._definition&&this._definition.self},TargetState.prototype.options=function(){return this._options},TargetState.prototype.exists=function(){return!(!this._definition||!this._definition.self)},TargetState.prototype.valid=function(){return!this.error()},TargetState.prototype.error=function(){var base=this.options().relative;if(!this._definition&&base){var stateName=base.name?base.name:base;return"Could not resolve '"+this.name()+"' from state '"+stateName+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},TargetState}();exports.TargetState=TargetState},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),coreservices_1=__webpack_require__(6),ViewHooks=function(){function ViewHooks(transition,$view){this.transition=transition,this.$view=$view,this.treeChanges=transition.treeChanges(),this.enteringViews=transition.views("entering"),this.exitingViews=transition.views("exiting")}return ViewHooks.prototype.loadAllEnteringViews=function(){return coreservices_1.services.$q.all(this.enteringViews.map(function(view){return view.load()})).then(common_1.noop)},ViewHooks.prototype.updateViews=function(){var $view=this.$view;this.exitingViews.forEach(function(viewConfig){return $view.deactivateViewConfig(viewConfig)}),this.enteringViews.forEach(function(viewConfig){return $view.activateViewConfig(viewConfig)}),$view.sync()},ViewHooks.prototype.registerHooks=function(){this.enteringViews.length&&this.transition.onStart({},this.loadAllEnteringViews.bind(this)),(this.exitingViews.length||this.enteringViews.length)&&this.transition.onSuccess({},this.updateViews.bind(this))},ViewHooks}();exports.ViewHooks=ViewHooks},function(module,exports){"use strict";var EnterExitHooks=function(){function EnterExitHooks(transition){this.transition=transition}return EnterExitHooks.prototype.registerHooks=function(){this.registerOnEnterHooks(),this.registerOnRetainHooks(),this.registerOnExitHooks()},EnterExitHooks.prototype.registerOnEnterHooks=function(){var _this=this;this.transition.entering().filter(function(state){return!!state.onEnter}).forEach(function(state){return _this.transition.onEnter({entering:state.name},state.onEnter)})},EnterExitHooks.prototype.registerOnRetainHooks=function(){var _this=this;this.transition.retained().filter(function(state){return!!state.onRetain}).forEach(function(state){return _this.transition.onRetain({retained:state.name},state.onRetain)})},EnterExitHooks.prototype.registerOnExitHooks=function(){var _this=this;this.transition.exiting().filter(function(state){return!!state.onExit}).forEach(function(state){return _this.transition.onExit({exiting:state.name},state.onExit)})},EnterExitHooks}();exports.EnterExitHooks=EnterExitHooks},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),interface_1=__webpack_require__(31),hof_2=__webpack_require__(5),resolvable_1=__webpack_require__(32),LAZY=interface_1.ResolvePolicy[interface_1.ResolvePolicy.LAZY],EAGER=interface_1.ResolvePolicy[interface_1.ResolvePolicy.EAGER],ResolveHooks=function(){function ResolveHooks(transition){this.transition=transition}return ResolveHooks.prototype.registerHooks=function(){function $eagerResolvePath($transition$){return common_1.tail(treeChanges.to).resolveContext.resolvePath(common_1.extend({transition:$transition$},{resolvePolicy:EAGER}))}function $lazyResolveEnteringState($state$,$transition$){var node=common_1.find(treeChanges.entering,hof_1.propEq("state",$state$)),context=node.resolveContext,$resolve$=new resolvable_1.Resolvable("$resolve$",function(){return common_1.map(context.getResolvables(),function(r){return r.data})}),options=common_1.extend({transition:$transition$},{resolvePolicy:LAZY});return context.resolvePathElement(node.state,options).then(function(){return $resolve$.resolveResolvable(context)}).then(function(){return context.addResolvables({$resolve$:$resolve$},node.state)})}var treeChanges=this.transition.treeChanges();$eagerResolvePath.$inject=["$transition$"],$lazyResolveEnteringState.$inject=["$state$","$transition$"],this.transition.onStart({},$eagerResolvePath,{priority:1e3}),this.transition.onEnter({entering:hof_2.val(!0)},$lazyResolveEnteringState,{priority:1e3})},ResolveHooks}();exports.ResolveHooks=ResolveHooks},function(module,exports){"use strict";!function(ResolvePolicy){ResolvePolicy[ResolvePolicy.JIT=0]="JIT",ResolvePolicy[ResolvePolicy.LAZY=1]="LAZY",ResolvePolicy[ResolvePolicy.EAGER=2]="EAGER"}(exports.ResolvePolicy||(exports.ResolvePolicy={}));exports.ResolvePolicy},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),coreservices_1=__webpack_require__(6),trace_1=__webpack_require__(12),Resolvable=function(){function Resolvable(name,resolveFn,preResolvedData){this.promise=void 0,common_1.extend(this,{name:name,resolveFn:resolveFn,deps:coreservices_1.services.$injector.annotate(resolveFn,coreservices_1.services.$injector.strictDi),data:preResolvedData})}return Resolvable.prototype.resolveResolvable=function(resolveContext,options){var _this=this;void 0===options&&(options={});var _a=this,name=_a.name,deps=_a.deps,resolveFn=_a.resolveFn;trace_1.trace.traceResolveResolvable(this,options);var deferred=coreservices_1.services.$q.defer();this.promise=deferred.promise;var ancestorsByName=resolveContext.getResolvables(null,{omitOwnLocals:[name]}),depResolvables=common_1.pick(ancestorsByName,deps),depPromises=common_1.map(depResolvables,function(resolvable){return resolvable.get(resolveContext,options)});return coreservices_1.services.$q.all(depPromises).then(function(locals){try{var result=coreservices_1.services.$injector.invoke(resolveFn,null,locals);deferred.resolve(result)}catch(error){deferred.reject(error)}return _this.promise}).then(function(data){return _this.data=data,trace_1.trace.traceResolvableResolved(_this,options),_this.promise})},Resolvable.prototype.get=function(resolveContext,options){return this.promise||this.resolveResolvable(resolveContext,options)},Resolvable.prototype.toString=function(){return"Resolvable(name: "+this.name+", requires: ["+this.deps+"])"},Resolvable.makeResolvables=function(resolves){var invalid=common_1.filter(resolves,hof_1.not(predicates_1.isInjectable)),keys=Object.keys(invalid);if(keys.length)throw new Error("Invalid resolve key/value: "+keys[0]+"/"+invalid[keys[0]]);return common_1.map(resolves,function(fn,name){return new Resolvable(name,fn)})},Resolvable}();exports.Resolvable=Resolvable},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),State=function(){function State(config){common_1.extend(this,config)}return State.prototype.is=function(ref){return this===ref||this.self===ref||this.fqn()===ref},State.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var name=this.parent.fqn();return name?name+"."+this.name:this.name},State.prototype.root=function(){return this.parent&&this.parent.root()||this},State.prototype.parameters=function(opts){opts=common_1.defaults(opts,{inherit:!0});var inherited=opts.inherit&&this.parent&&this.parent.parameters()||[];return inherited.concat(common_1.values(this.params))},State.prototype.parameter=function(id,opts){return void 0===opts&&(opts={}),this.url&&this.url.parameter(id,opts)||common_1.find(common_1.values(this.params),hof_1.propEq("id",id))||opts.inherit&&this.parent&&this.parent.parameter(id)},State.prototype.toString=function(){return this.fqn()},State}();exports.State=State},function(module,exports,__webpack_require__){"use strict";var predicates_1=__webpack_require__(4),StateMatcher=function(){function StateMatcher(_states){this._states=_states}return StateMatcher.prototype.isRelative=function(stateName){return stateName=stateName||"",0===stateName.indexOf(".")||0===stateName.indexOf("^")},StateMatcher.prototype.find=function(stateOrName,base){if(stateOrName||""===stateOrName){var isStr=predicates_1.isString(stateOrName),name=isStr?stateOrName:stateOrName.name;this.isRelative(name)&&(name=this.resolvePath(name,base));var state=this._states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?void 0:state}},StateMatcher.prototype.resolvePath=function(name,base){if(!base)throw new Error("No reference point given for path '"+name+"'");for(var baseState=this.find(base),splitName=name.split("."),i=0,pathLength=splitName.length,current=baseState;pathLength>i;i++)if(""!==splitName[i]||0!==i){if("^"!==splitName[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+baseState.name+"'");current=current.parent}else current=baseState;var relName=splitName.slice(i).join(".");return current.name+(current.name&&relName?".":"")+relName},StateMatcher}();exports.StateMatcher=StateMatcher},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),module_1=__webpack_require__(17),StateQueueManager=function(){function StateQueueManager(states,builder,$urlRouterProvider){this.states=states,this.builder=builder,this.$urlRouterProvider=$urlRouterProvider,this.queue=[]}return StateQueueManager.prototype.register=function(config){var _a=this,states=_a.states,queue=_a.queue,$state=_a.$state,state=common_1.inherit(new module_1.State,common_1.extend({},config,{self:config,resolve:config.resolve||{},toString:function(){return config.name}}));if(!predicates_1.isString(state.name))throw new Error("State must have a valid name");if(states.hasOwnProperty(state.name)||-1!==common_1.pluck(queue,"name").indexOf(state.name))throw new Error("State '"+state.name+"' is already defined");return queue.push(state),this.$state&&this.flush($state),state},StateQueueManager.prototype.flush=function($state){for(var result,state,orphanIdx,_a=this,queue=_a.queue,states=_a.states,builder=_a.builder,orphans=[],previousQueueLength={};queue.length>0;)if(state=queue.shift(),result=builder.build(state),orphanIdx=orphans.indexOf(state),result){if(states.hasOwnProperty(state.name))throw new Error("State '"+name+"' is already defined");states[state.name]=state,this.attachRoute($state,state),orphanIdx>=0&&orphans.splice(orphanIdx,1)}else{var prev=previousQueueLength[state.name];if(previousQueueLength[state.name]=queue.length,orphanIdx>=0&&prev===queue.length)throw new Error("Cannot register orphaned state '"+state.name+"'");0>orphanIdx&&orphans.push(state),queue.push(state)}return states},StateQueueManager.prototype.autoFlush=function($state){this.$state=$state,this.flush($state)},StateQueueManager.prototype.attachRoute=function($state,state){var $urlRouterProvider=this.$urlRouterProvider;!state[common_1.abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable===state&&common_1.equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{inherit:!0})}])},StateQueueManager}();exports.StateQueueManager=StateQueueManager},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),queue_1=__webpack_require__(8),coreservices_1=__webpack_require__(6),pathFactory_1=__webpack_require__(37),node_1=__webpack_require__(38),stateParams_1=__webpack_require__(25),transitionService_1=__webpack_require__(42),rejectFactory_1=__webpack_require__(10),targetState_1=__webpack_require__(27),transitionManager_1=__webpack_require__(26),param_1=__webpack_require__(21),glob_1=__webpack_require__(7),common_2=__webpack_require__(3),common_3=__webpack_require__(3),StateService=function(){function StateService($view,$stateParams,$urlRouter,$transitions,stateRegistry,stateProvider){this.$view=$view,this.$stateParams=$stateParams,this.$urlRouter=$urlRouter,this.$transitions=$transitions,this.stateRegistry=stateRegistry,this.stateProvider=stateProvider,this.transQueue=new queue_1.Queue,this.treeChangesQueue=new queue_1.Queue,this.rejectFactory=new rejectFactory_1.RejectFactory,this.params=new stateParams_1.StateParams,common_3.bindFunctions(StateService.prototype,this,this);var root=stateRegistry.root();common_1.extend(this,{params:new stateParams_1.StateParams,current:root.self,$current:root,transition:null})}return StateService.prototype._handleInvalidTargetState=function(fromPath,$to$){function invokeNextCallback(){var nextCallback=callbackQueue.dequeue();return void 0===nextCallback?rejectFactory.invalid($to$.error()):invokeCallback(nextCallback).then(checkForRedirect).then(function(result){return result||invokeNextCallback()})}var _this=this,latestThing=function(){return _this.transQueue.peekTail()||_this.treeChangesQueue.peekTail()},latest=latestThing(),$from$=pathFactory_1.PathFactory.makeTargetState(fromPath),callbackQueue=new queue_1.Queue([].concat(this.stateProvider.invalidCallbacks)),rejectFactory=this.rejectFactory,$q=coreservices_1.services.$q,$injector=coreservices_1.services.$injector,invokeCallback=function(callback){return $q.when($injector.invoke(callback,null,{$to$:$to$,$from$:$from$}))},checkForRedirect=function(result){if(result instanceof targetState_1.TargetState){var target=result;return target=_this.target(target.identifier(),target.params(),target.options()),target.valid()?latestThing()!==latest?rejectFactory.superseded():_this.transitionTo(target.identifier(),target.params(),target.options()):rejectFactory.invalid(target.error())}};return invokeNextCallback()},StateService.prototype.reload=function(reloadState){return this.transitionTo(this.current,this.$stateParams,{reload:predicates_1.isDefined(reloadState)?reloadState:!0,inherit:!1,notify:!1})},StateService.prototype.go=function(to,params,options){var defautGoOpts={relative:this.$current,inherit:!0},transOpts=common_1.defaults(options,defautGoOpts,transitionService_1.defaultTransOpts);return this.transitionTo(to,params,transOpts)},StateService.prototype.target=function(identifier,params,options){if(void 0===options&&(options={}),predicates_1.isObject(options.reload)&&!options.reload.name)throw new Error("Invalid reload state object");if(options.reloadState=options.reload===!0?this.stateRegistry.root():this.stateRegistry.matcher.find(options.reload,options.relative),options.reload&&!options.reloadState)throw new Error("No such reload state '"+(predicates_1.isString(options.reload)?options.reload:options.reload.name)+"'");var stateDefinition=this.stateRegistry.matcher.find(identifier,options.relative);return new targetState_1.TargetState(identifier,stateDefinition,params,options)},StateService.prototype.transitionTo=function(to,toParams,options){var _this=this;void 0===toParams&&(toParams={}),void 0===options&&(options={});var _a=this,transQueue=_a.transQueue,treeChangesQueue=_a.treeChangesQueue;options=common_1.defaults(options,transitionService_1.defaultTransOpts),options=common_1.extend(options,{current:transQueue.peekTail.bind(transQueue)});var ref=this.target(to,toParams,options),latestTreeChanges=treeChangesQueue.peekTail(),rootPath=function(){return pathFactory_1.PathFactory.bindTransNodesToPath([new node_1.Node(_this.stateRegistry.root())])},currentPath=latestTreeChanges?latestTreeChanges.to:rootPath();if(!ref.exists())return this._handleInvalidTargetState(currentPath,ref);if(!ref.valid())return coreservices_1.services.$q.reject(ref.error());var transition=this.$transitions.create(currentPath,ref),tMgr=new transitionManager_1.TransitionManager(transition,this.$transitions,this.$urlRouter,this.$view,this,this.$stateParams,coreservices_1.services.$q,transQueue,treeChangesQueue),transitionPromise=tMgr.runTransition();return common_1.extend(transitionPromise,{transition:transition})},StateService.prototype.is=function(stateOrName,params,options){options=common_1.defaults(options,{relative:this.$current});var state=this.stateRegistry.matcher.find(stateOrName,options.relative);if(predicates_1.isDefined(state))return this.$current!==state?!1:predicates_1.isDefined(params)&&null!==params?param_1.Param.equals(state.parameters(),this.$stateParams,params):!0},StateService.prototype.includes=function(stateOrName,params,options){options=common_1.defaults(options,{relative:this.$current});var glob=predicates_1.isString(stateOrName)&&glob_1.Glob.fromString(stateOrName);if(glob){if(!glob.matches(this.$current.name))return!1;stateOrName=this.$current.name}var state=this.stateRegistry.matcher.find(stateOrName,options.relative),include=this.$current.includes;if(predicates_1.isDefined(state))return predicates_1.isDefined(include[state.name])?params?common_2.equalForKeys(param_1.Param.values(state.parameters(),params),this.$stateParams,Object.keys(params)):!0:!1},StateService.prototype.href=function(stateOrName,params,options){var defaultHrefOpts={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};options=common_1.defaults(options,defaultHrefOpts);var state=this.stateRegistry.matcher.find(stateOrName,options.relative);if(!predicates_1.isDefined(state))return null;options.inherit&&(params=this.$stateParams.$inherit(params||{},this.$current,state));var nav=state&&options.lossy?state.navigable:state;return nav&&void 0!==nav.url&&null!==nav.url?this.$urlRouter.href(nav.url,param_1.Param.values(state.parameters(),params),{absolute:options.absolute}):null},StateService.prototype.get=function(stateOrName,base){return 0===arguments.length?this.stateRegistry.get():this.stateRegistry.get(stateOrName,base||this.$current)},StateService}();exports.StateService=StateService},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),module_1=__webpack_require__(17),node_1=__webpack_require__(38),module_2=__webpack_require__(39),PathFactory=function(){function PathFactory(){}return PathFactory.makeTargetState=function(path){var state=common_1.tail(path).state;return new module_1.TargetState(state,state,path.map(hof_1.prop("paramValues")).reduce(common_1.mergeR,{}))},PathFactory.buildToPath=function(fromPath,targetState){var toParams=targetState.params(),toPath=targetState.$state().path.map(function(state){return new node_1.Node(state).applyRawParams(toParams)});return targetState.options().inherit&&(toPath=PathFactory.inheritParams(fromPath,toPath,Object.keys(toParams))),toPath},PathFactory.applyViewConfigs=function($view,path){return path.map(function(node){return common_1.extend(node,{views:common_1.values(node.state.views||{}).map(function(view){return $view.createViewConfig(node,view)})})})},PathFactory.inheritParams=function(fromPath,toPath,toKeys){function nodeParamVals(path,state){var node=common_1.find(path,hof_1.propEq("state",state));return common_1.extend({},node&&node.paramValues)}void 0===toKeys&&(toKeys=[]);var makeInheritedParamsNode=hof_1.curry(function(_fromPath,_toKeys,toNode){var toParamVals=common_1.extend({},toNode&&toNode.paramValues),incomingParamVals=common_1.pick(toParamVals,_toKeys);toParamVals=common_1.omit(toParamVals,_toKeys);var fromParamVals=nodeParamVals(_fromPath,toNode.state)||{},ownParamVals=common_1.extend(toParamVals,fromParamVals,incomingParamVals);return new node_1.Node(toNode.state).applyRawParams(ownParamVals)});return toPath.map(makeInheritedParamsNode(fromPath,toKeys))},PathFactory.bindTransNodesToPath=function(resolvePath){var resolveContext=new module_2.ResolveContext(resolvePath);return resolvePath.forEach(function(node){node.resolveContext=resolveContext.isolateRootTo(node.state),node.resolveInjector=new module_2.ResolveInjector(node.resolveContext,node.state),node.resolves.$stateParams=new module_2.Resolvable("$stateParams",function(){return node.paramValues},node.paramValues)}),resolvePath},PathFactory.treeChanges=function(fromPath,toPath,reloadState){function applyToParams(retainedNode,idx){var cloned=node_1.Node.clone(retainedNode);return cloned.paramValues=toPath[idx].paramValues,cloned}for(var keep=0,max=Math.min(fromPath.length,toPath.length),staticParams=function(state){return state.parameters({inherit:!1}).filter(hof_1.not(hof_1.prop("dynamic"))).map(hof_1.prop("id"))},nodesMatch=function(node1,node2){return node1.equals(node2,staticParams(node1.state))};max>keep&&fromPath[keep].state!==reloadState&&nodesMatch(fromPath[keep],toPath[keep]);)keep++;var from,retained,exiting,entering,to,retainedWithToParams,enteringResolvePath,toResolvePath;return from=fromPath,retained=from.slice(0,keep),exiting=from.slice(keep),retainedWithToParams=retained.map(applyToParams),enteringResolvePath=toPath.slice(keep),toResolvePath=retainedWithToParams.concat(enteringResolvePath),to=PathFactory.bindTransNodesToPath(toResolvePath),entering=to.slice(keep),{from:from,to:to,retained:retained,exiting:exiting,entering:entering}},PathFactory.bindTransitionResolve=function(treeChanges,transition){var rootNode=treeChanges.to[0];rootNode.resolves.$transition$=new module_2.Resolvable("$transition$",function(){return transition},transition)},PathFactory.subPath=function(path,state){var node=common_1.find(path,function(_node){return _node.state===state}),elementIdx=path.indexOf(node);if(-1===elementIdx)throw new Error("The path does not contain the state: "+state);return path.slice(0,elementIdx+1)},PathFactory}();exports.PathFactory=PathFactory},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),module_1=__webpack_require__(39),Node=function(){function Node(state){if(state instanceof Node){var node=state;this.state=node.state,this.paramSchema=node.paramSchema.slice(),this.paramValues=common_1.extend({},node.paramValues),this.resolves=common_1.extend({},node.resolves),this.views=node.views&&node.views.slice(),this.resolveContext=node.resolveContext,this.resolveInjector=node.resolveInjector}else this.state=state,this.paramSchema=state.parameters({inherit:!1}),this.paramValues={},this.resolves=common_1.mapObj(state.resolve,function(fn,name){return new module_1.Resolvable(name,fn)})}return Node.prototype.applyRawParams=function(params){var getParamVal=function(paramDef){return[paramDef.id,paramDef.value(params[paramDef.id])]};return this.paramValues=this.paramSchema.reduce(function(memo,pDef){return common_1.applyPairs(memo,getParamVal(pDef))},{}),this},Node.prototype.parameter=function(name){return common_1.find(this.paramSchema,hof_1.propEq("id",name))},Node.prototype.equals=function(node,keys){var _this=this;void 0===keys&&(keys=this.paramSchema.map(hof_1.prop("id")));var paramValsEq=function(key){return _this.parameter(key).type.equals(_this.paramValues[key],node.paramValues[key])};return this.state===node.state&&keys.map(paramValsEq).reduce(common_1.allTrueR,!0)},Node.clone=function(node){return new Node(node)},Node.matching=function(first,second){var matchedCount=first.reduce(function(prev,node,i){return prev===i&&i<second.length&&node.state===second[i].state?i+1:prev},0);return first.slice(0,matchedCount)},Node}();exports.Node=Node},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(31)),__export(__webpack_require__(32)),__export(__webpack_require__(40)),__export(__webpack_require__(41))},function(module,exports,__webpack_require__){"use strict";function getPolicy(stateResolvePolicyConf,resolvable){var stateLevelPolicy=predicates_1.isString(stateResolvePolicyConf)?stateResolvePolicyConf:null,resolveLevelPolicies=predicates_1.isObject(stateResolvePolicyConf)?stateResolvePolicyConf:{},policyName=resolveLevelPolicies[resolvable.name]||stateLevelPolicy||defaultResolvePolicy;return interface_1.ResolvePolicy[policyName]}var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),trace_1=__webpack_require__(12),coreservices_1=__webpack_require__(6),interface_1=__webpack_require__(31),common_2=__webpack_require__(3),pathFactory_1=__webpack_require__(37),defaultResolvePolicy=interface_1.ResolvePolicy[interface_1.ResolvePolicy.LAZY],ResolveContext=function(){function ResolveContext(_path){this._path=_path,common_1.extend(this,{_nodeFor:function(state){return common_1.find(this._path,hof_1.propEq("state",state))},_pathTo:function(state){return pathFactory_1.PathFactory.subPath(this._path,state)}})}return ResolveContext.prototype.getResolvables=function(state,options){options=common_1.defaults(options,{omitOwnLocals:[]});var path=state?this._pathTo(state):this._path,last=common_1.tail(path);return path.reduce(function(memo,node){var omitProps=node===last?options.omitOwnLocals:[],filteredResolvables=common_1.omit(node.resolves,omitProps);return common_1.extend(memo,filteredResolvables)},{})},ResolveContext.prototype.getResolvablesForFn=function(fn){var deps=coreservices_1.services.$injector.annotate(fn,coreservices_1.services.$injector.strictDi);return common_1.pick(this.getResolvables(),deps)},ResolveContext.prototype.isolateRootTo=function(state){return new ResolveContext(this._pathTo(state))},ResolveContext.prototype.addResolvables=function(resolvables,state){common_1.extend(this._nodeFor(state).resolves,resolvables)},ResolveContext.prototype.getOwnResolvables=function(state){return common_1.extend({},this._nodeFor(state).resolves)},ResolveContext.prototype.resolvePath=function(options){var _this=this;void 0===options&&(options={}),trace_1.trace.traceResolvePath(this._path,options);var promiseForNode=function(node){return _this.resolvePathElement(node.state,options)};return coreservices_1.services.$q.all(common_1.map(this._path,promiseForNode)).then(function(all){return all.reduce(common_2.mergeR,{})})},ResolveContext.prototype.resolvePathElement=function(state,options){var _this=this;void 0===options&&(options={});var policy=options&&options.resolvePolicy,policyOrdinal=interface_1.ResolvePolicy[policy||defaultResolvePolicy],resolvables=this.getOwnResolvables(state),matchesRequestedPolicy=function(resolvable){return getPolicy(state.resolvePolicy,resolvable)>=policyOrdinal;
},matchingResolves=common_1.filter(resolvables,matchesRequestedPolicy),getResolvePromise=function(resolvable){return resolvable.get(_this.isolateRootTo(state),options)},resolvablePromises=common_1.map(matchingResolves,getResolvePromise);return trace_1.trace.traceResolvePathElement(this,matchingResolves,options),coreservices_1.services.$q.all(resolvablePromises)},ResolveContext.prototype.invokeLater=function(fn,locals,options){var _this=this;void 0===locals&&(locals={}),void 0===options&&(options={});var resolvables=this.getResolvablesForFn(fn);trace_1.trace.tracePathElementInvoke(common_1.tail(this._path),fn,Object.keys(resolvables),common_1.extend({when:"Later"},options));var getPromise=function(resolvable){return resolvable.get(_this,options)},promises=common_1.map(resolvables,getPromise);return coreservices_1.services.$q.all(promises).then(function(){try{return _this.invokeNow(fn,locals,options)}catch(error){return coreservices_1.services.$q.reject(error)}})},ResolveContext.prototype.invokeNow=function(fn,locals,options){void 0===options&&(options={});var resolvables=this.getResolvablesForFn(fn);trace_1.trace.tracePathElementInvoke(common_1.tail(this._path),fn,Object.keys(resolvables),common_1.extend({when:"Now  "},options));var resolvedLocals=common_1.map(resolvables,hof_1.prop("data"));return coreservices_1.services.$injector.invoke(fn,null,common_1.extend({},locals,resolvedLocals))},ResolveContext}();exports.ResolveContext=ResolveContext},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),ResolveInjector=function(){function ResolveInjector(_resolveContext,_state){this._resolveContext=_resolveContext,this._state=_state}return ResolveInjector.prototype.invokeLater=function(injectedFn,locals){return this._resolveContext.invokeLater(injectedFn,locals)},ResolveInjector.prototype.invokeNow=function(injectedFn,locals){return this._resolveContext.invokeNow(null,injectedFn,locals)},ResolveInjector.prototype.getLocals=function(injectedFn){var _this=this,resolve=function(r){return r.get(_this._resolveContext)};return common_1.map(this._resolveContext.getResolvablesForFn(injectedFn),resolve)},ResolveInjector}();exports.ResolveInjector=ResolveInjector},function(module,exports,__webpack_require__){"use strict";var transition_1=__webpack_require__(11),hookRegistry_1=__webpack_require__(15);exports.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null}};var TransitionService=function(){function TransitionService($view){this.$view=$view,this._defaultErrorHandler=function $defaultErrorHandler($error$){$error$ instanceof Error&&console.error($error$)},hookRegistry_1.HookRegistry.mixin(new hookRegistry_1.HookRegistry,this)}return TransitionService.prototype.defaultErrorHandler=function(handler){return this._defaultErrorHandler=handler||this._defaultErrorHandler},TransitionService.prototype.create=function(fromPath,targetState){return new transition_1.Transition(fromPath,targetState,this)},TransitionService}();exports.TransitionService=TransitionService},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(38)),__export(__webpack_require__(37))},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(45)),__export(__webpack_require__(22)),__export(__webpack_require__(46)),__export(__webpack_require__(47))},function(module,exports,__webpack_require__){"use strict";function quoteRegExp(string,param){var surroundPattern=["",""],result=string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!param)return result;switch(param.squash){case!1:surroundPattern=["(",")"+(param.isOptional?"?":"")];break;case!0:result=result.replace(/\/$/,""),surroundPattern=["(?:/(",")|/)?"];break;default:surroundPattern=["("+param.squash+"|",")?"]}return result+surroundPattern[0]+param.type.pattern.source+surroundPattern[1]}var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),module_1=__webpack_require__(20),predicates_2=__webpack_require__(4),param_1=__webpack_require__(21),common_2=__webpack_require__(3),common_3=__webpack_require__(3),memoizeTo=function(obj,prop,fn){return obj[prop]=obj[prop]||fn()},UrlMatcher=function(){function UrlMatcher(pattern,config){var _this=this;this.pattern=pattern,this.config=config,this._cache={path:[],pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=common_1.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:common_1.identity});for(var m,p,segment,placeholder=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,searchPlaceholder=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,last=0,patterns=[],checkParamErrors=function(id){if(!UrlMatcher.nameValidator.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(common_1.find(_this._params,hof_1.propEq("id",id)))throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'")},matchDetails=function(m,isSearch){var id=m[2]||m[3],regexp=isSearch?m[4]:m[4]||("*"===m[1]?".*":null);return{id:id,regexp:regexp,cfg:_this.config.params[id],segment:pattern.substring(last,m.index),type:regexp?module_1.paramTypes.type(regexp||"string")||common_1.inherit(module_1.paramTypes.type("string"),{pattern:new RegExp(regexp,_this.config.caseInsensitive?"i":void 0)}):null}};(m=placeholder.exec(pattern))&&(p=matchDetails(m,!1),!(p.segment.indexOf("?")>=0));)checkParamErrors(p.id),this._params.push(module_1.Param.fromPath(p.id,p.type,this.config.paramMap(p.cfg,!1))),this._segments.push(p.segment),patterns.push([p.segment,common_1.tail(this._params)]),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=segment.substring(i);if(segment=segment.substring(0,i),search.length>0)for(last=0;m=searchPlaceholder.exec(search);)p=matchDetails(m,!0),checkParamErrors(p.id),this._params.push(module_1.Param.fromSearch(p.id,p.type,this.config.paramMap(p.cfg,!0))),last=placeholder.lastIndex}this._segments.push(segment),common_1.extend(this,{_compiled:patterns.map(function(pattern){return quoteRegExp.apply(null,pattern)}).concat(quoteRegExp(segment)),prefix:this._segments[0]}),Object.freeze(this)}return UrlMatcher.prototype.append=function(url){return this._children.push(url),common_1.forEach(url._cache,function(val,key){return url._cache[key]=predicates_1.isArray(val)?[]:null}),url._cache.path=this._cache.path.concat(this),url},UrlMatcher.prototype.isRoot=function(){return 0===this._cache.path.length},UrlMatcher.prototype.toString=function(){return this.pattern},UrlMatcher.prototype.exec=function(path,search,hash,options){function decodePathArray(string){var reverseString=function(str){return str.split("").reverse().join("")},unquoteDashes=function(str){return str.replace(/\\-/g,"-")},split=reverseString(string).split(/-(?!\\)/),allReversed=common_1.map(split,reverseString);return common_1.map(allReversed,unquoteDashes).reverse()}var _this=this;void 0===search&&(search={}),void 0===options&&(options={});var match=memoizeTo(this._cache,"pattern",function(){return new RegExp(["^",common_1.unnest(_this._cache.path.concat(_this).map(hof_1.prop("_compiled"))).join(""),_this.config.strict===!1?"/?":"","$"].join(""),_this.config.caseInsensitive?"i":void 0)}).exec(path);if(!match)return null;var allParams=this.parameters(),pathParams=allParams.filter(function(param){return!param.isSearch()}),searchParams=allParams.filter(function(param){return param.isSearch()}),nPathSegments=this._cache.path.concat(this).map(function(urlm){return urlm._segments.length-1}).reduce(function(a,x){return a+x}),values={};if(nPathSegments!==match.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var i=0;nPathSegments>i;i++){for(var param=pathParams[i],value=match[i+1],j=0;j<param.replace.length;j++)param.replace[j].from===value&&(value=param.replace[j].to);value&&param.array===!0&&(value=decodePathArray(value)),predicates_2.isDefined(value)&&(value=param.type.decode(value)),values[param.id]=param.value(value)}return common_1.forEach(searchParams,function(param){for(var value=search[param.id],j=0;j<param.replace.length;j++)param.replace[j].from===value&&(value=param.replace[j].to);predicates_2.isDefined(value)&&(value=param.type.decode(value)),values[param.id]=param.value(value)}),hash&&(values["#"]=hash),values},UrlMatcher.prototype.parameters=function(opts){return void 0===opts&&(opts={}),opts.inherit===!1?this._params:common_1.unnest(this._cache.path.concat(this).map(hof_1.prop("_params")))},UrlMatcher.prototype.parameter=function(id,opts){void 0===opts&&(opts={});var parent=common_1.tail(this._cache.path);return common_1.find(this._params,hof_1.propEq("id",id))||opts.inherit!==!1&&parent&&parent.parameter(id)||null},UrlMatcher.prototype.validates=function(params){var _this=this,validParamVal=function(param,val){return!param||param.validates(val)};return common_1.pairs(params||{}).map(function(_a){var key=_a[0],val=_a[1];return validParamVal(_this.parameter(key),val)}).reduce(common_1.allTrueR,!0)},UrlMatcher.prototype.format=function(values){function getDetails(param){var value=param.value(values[param.id]),isDefaultValue=param.isDefaultValue(value),squash=isDefaultValue?param.squash:!1,encoded=param.type.encode(value);return{param:param,value:value,isDefaultValue:isDefaultValue,squash:squash,encoded:encoded}}if(void 0===values&&(values={}),!this.validates(values))return null;var urlMatchers=this._cache.path.slice().concat(this),pathSegmentsAndParams=urlMatchers.map(UrlMatcher.pathSegmentsAndParams).reduce(common_2.unnestR,[]),queryParams=urlMatchers.map(UrlMatcher.queryParams).reduce(common_2.unnestR,[]),pathString=pathSegmentsAndParams.reduce(function(acc,x){if(predicates_1.isString(x))return acc+x;var _a=getDetails(x),squash=_a.squash,encoded=_a.encoded,param=_a.param;return squash===!0?acc.match(/\/$/)?acc.slice(0,-1):acc:predicates_1.isString(squash)?acc+squash:squash!==!1?acc:null==encoded?acc:predicates_1.isArray(encoded)?acc+common_1.map(encoded,UrlMatcher.encodeDashes).join("-"):param.type.raw?acc+encoded:acc+encodeURIComponent(encoded)},""),queryString=queryParams.map(function(param){var _a=getDetails(param),squash=_a.squash,encoded=_a.encoded,isDefaultValue=_a.isDefaultValue;if(!(null==encoded||isDefaultValue&&squash!==!1)&&(predicates_1.isArray(encoded)||(encoded=[encoded]),0!==encoded.length))return param.type.raw||(encoded=common_1.map(encoded,encodeURIComponent)),encoded.map(function(val){return param.id+"="+val})}).filter(common_1.identity).reduce(common_2.unnestR,[]).join("&");return pathString+(queryString?"?"+queryString:"")+(values["#"]?"#"+values["#"]:"")},UrlMatcher.encodeDashes=function(str){return encodeURIComponent(str).replace(/-/g,function(c){return"%5C%"+c.charCodeAt(0).toString(16).toUpperCase()})},UrlMatcher.pathSegmentsAndParams=function(matcher){var staticSegments=matcher._segments,pathParams=matcher._params.filter(function(p){return p.location===param_1.DefType.PATH});return common_3.arrayTuples(staticSegments,pathParams.concat(void 0)).reduce(common_2.unnestR,[]).filter(function(x){return""!==x&&predicates_2.isDefined(x)})},UrlMatcher.queryParams=function(matcher){return matcher._params.filter(function(p){return p.location===param_1.DefType.SEARCH})},UrlMatcher.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,UrlMatcher}();exports.UrlMatcher=UrlMatcher},function(module,exports,__webpack_require__){"use strict";function getDefaultConfig(){return{strict:module_1.matcherConfig.strictMode(),caseInsensitive:module_1.matcherConfig.caseInsensitive()}}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),module_1=__webpack_require__(44),module_2=__webpack_require__(20),UrlMatcherFactory=function(){function UrlMatcherFactory(){common_1.extend(this,{UrlMatcher:module_1.UrlMatcher,Param:module_2.Param})}return UrlMatcherFactory.prototype.caseInsensitive=function(value){return module_1.matcherConfig.caseInsensitive(value)},UrlMatcherFactory.prototype.strictMode=function(value){return module_1.matcherConfig.strictMode(value)},UrlMatcherFactory.prototype.defaultSquashPolicy=function(value){return module_1.matcherConfig.defaultSquashPolicy(value)},UrlMatcherFactory.prototype.compile=function(pattern,config){return new module_1.UrlMatcher(pattern,common_1.extend(getDefaultConfig(),config))},UrlMatcherFactory.prototype.isMatcher=function(object){if(!predicates_1.isObject(object))return!1;var result=!0;return common_1.forEach(module_1.UrlMatcher.prototype,function(val,name){predicates_1.isFunction(val)&&(result=result&&predicates_1.isDefined(object[name])&&predicates_1.isFunction(object[name]))}),result},UrlMatcherFactory.prototype.type=function(name,definition,definitionFn){var type=module_2.paramTypes.type(name,definition,definitionFn);return predicates_1.isDefined(definition)?this:type},UrlMatcherFactory.prototype.$get=function(){return module_2.paramTypes.enqueue=!1,module_2.paramTypes._flushTypeQueue(),this},UrlMatcherFactory}();exports.UrlMatcherFactory=UrlMatcherFactory},function(module,exports,__webpack_require__){"use strict";function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,$stateParams,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match,$stateParams:$stateParams});return predicates_1.isDefined(result)?result:!0}function appendBasePath(url,isHtml5,absolute){var baseHref=coreservices_1.services.locationConfig.baseHref();return"/"===baseHref?url:isHtml5?baseHref.slice(0,-1)+url:absolute?baseHref.slice(1)+url:url}function update(rules,otherwiseFn,evt){function check(rule){var handled=rule(coreservices_1.services.$injector,$location);return handled?(predicates_1.isString(handled)&&($location.replace(),$location.url(handled)),!0):!1}if(!evt||!evt.defaultPrevented){var i,n=rules.length;for(i=0;n>i;i++)if(check(rules[i]))return;otherwiseFn&&check(otherwiseFn)}}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),coreservices_1=__webpack_require__(6),$location=coreservices_1.services.location,UrlRouterProvider=function(){function UrlRouterProvider($urlMatcherFactory,$stateParams){this.$urlMatcherFactory=$urlMatcherFactory,this.$stateParams=$stateParams,this.rules=[],this.otherwiseFn=null,this.interceptDeferred=!1}return UrlRouterProvider.prototype.rule=function(rule){if(!predicates_1.isFunction(rule))throw new Error("'rule' must be a function");return this.rules.push(rule),this},UrlRouterProvider.prototype.otherwise=function(rule){if(!predicates_1.isFunction(rule)&&!predicates_1.isString(rule))throw new Error("'rule' must be a string or function");return this.otherwiseFn=predicates_1.isString(rule)?function(){return rule}:rule,this},UrlRouterProvider.prototype.when=function(what,handler){var redirect,_a=this,$urlMatcherFactory=_a.$urlMatcherFactory,$stateParams=_a.$stateParams,handlerIsString=predicates_1.isString(handler);if(predicates_1.isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!predicates_1.isFunction(handler)&&!predicates_1.isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(_what,_handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(_handler),_handler=["$match",redirect.format.bind(redirect)]),common_1.extend(function(){return handleIfMatch(coreservices_1.services.$injector,$stateParams,_handler,_what.exec($location.path(),$location.search(),$location.hash()))},{prefix:predicates_1.isString(_what.prefix)?_what.prefix:""})},regex:function(_what,_handler){if(_what.global||_what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=_handler,_handler=["$match",function($match){return interpolate(redirect,$match)}]),common_1.extend(function(){return handleIfMatch(coreservices_1.services.$injector,$stateParams,_handler,_what.exec($location.path()))},{prefix:regExpPrefix(_what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},UrlRouterProvider.prototype.deferIntercept=function(defer){void 0===defer&&(defer=!0),this.interceptDeferred=defer},UrlRouterProvider}();exports.UrlRouterProvider=UrlRouterProvider;var UrlRouter=function(){function UrlRouter(urlRouterProvider){this.urlRouterProvider=urlRouterProvider,common_1.bindFunctions(UrlRouter.prototype,this,this)}return UrlRouter.prototype.sync=function(){update(this.urlRouterProvider.rules,this.urlRouterProvider.otherwiseFn)},UrlRouter.prototype.listen=function(){var _this=this;return this.listener=this.listener||$location.onChange(function(evt){return update(_this.urlRouterProvider.rules,_this.urlRouterProvider.otherwiseFn,evt)})},UrlRouter.prototype.update=function(read){return read?void(this.location=$location.url()):void($location.url()!==this.location&&($location.url(this.location),$location.replace()))},UrlRouter.prototype.push=function(urlMatcher,params,options){$location.url(urlMatcher.format(params||{})),options&&options.replace&&$location.replace()},UrlRouter.prototype.href=function(urlMatcher,params,options){if(!urlMatcher.validates(params))return null;var url=urlMatcher.format(params);options=options||{};var cfg=coreservices_1.services.locationConfig,isHtml5=cfg.html5Mode();if(isHtml5||null===url||(url="#"+cfg.hashPrefix()+url),url=appendBasePath(url,isHtml5,options.absolute),!options.absolute||!url)return url;var slash=!isHtml5&&url?"/":"",port=cfg.port();return port=80===port||443===port?"":":"+port,[cfg.protocol(),"://",cfg.host(),port,slash,url].join("")},UrlRouter}();exports.UrlRouter=UrlRouter},function(module,exports,__webpack_require__){"use strict";function __export(m){for(var p in m)exports.hasOwnProperty(p)||(exports[p]=m[p])}__export(__webpack_require__(49))},function(module,exports,__webpack_require__){"use strict";var common_1=__webpack_require__(3),hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),module_1=__webpack_require__(2),ViewService=function(){function ViewService(){var _this=this;this.uiViews=[],this.viewConfigs=[],this._viewConfigFactories={},this.sync=function(){function uiViewDepth(uiView){return uiView.fqn.split(".").length}function viewConfigDepth(config){for(var context=config.viewDecl.$context,count=0;++count&&context.parent;)context=context.parent;return count}var uiViewsByFqn=_this.uiViews.map(function(uiv){return[uiv.fqn,uiv]}).reduce(common_1.applyPairs,{}),matches=function(uiView){return function(viewConfig){var vc=viewConfig.viewDecl,vcSegments=vc.$uiViewName.split("."),uivSegments=uiView.fqn.split(".");if(!common_1.equals(vcSegments,uivSegments.slice(0-vcSegments.length)))return!1;var negOffset=1-vcSegments.length||void 0,fqnToFirstSegment=uivSegments.slice(0,negOffset).join("."),uiViewContext=uiViewsByFqn[fqnToFirstSegment].creationContext;return vc.$uiViewContextAnchor===(uiViewContext&&uiViewContext.name)}},depthCompare=hof_1.curry(function(depthFn,posNeg,left,right){return posNeg*(depthFn(left)-depthFn(right))}),matchingConfigPair=function(uiView){var matchingConfigs=_this.viewConfigs.filter(matches(uiView));return matchingConfigs.length>1&&matchingConfigs.sort(depthCompare(viewConfigDepth,-1)),[uiView,matchingConfigs[0]]},configureUiView=function(_a){var uiView=_a[0],viewConfig=_a[1];-1!==_this.uiViews.indexOf(uiView)&&uiView.configUpdated(viewConfig)};_this.uiViews.sort(depthCompare(uiViewDepth,1)).map(matchingConfigPair).forEach(configureUiView)}}return ViewService.prototype.rootContext=function(context){return this._rootContext=context||this._rootContext},ViewService.prototype.viewConfigFactory=function(viewType,factory){this._viewConfigFactories[viewType]=factory},ViewService.prototype.createViewConfig=function(node,decl){var cfgFactory=this._viewConfigFactories[decl.$type];return cfgFactory(node,decl)},ViewService.prototype.deactivateViewConfig=function(viewConfig){module_1.trace.traceViewServiceEvent("<- Removing",viewConfig),common_1.removeFrom(this.viewConfigs,viewConfig)},ViewService.prototype.activateViewConfig=function(viewConfig){module_1.trace.traceViewServiceEvent("-> Registering",viewConfig),this.viewConfigs.push(viewConfig)},ViewService.prototype.registerUiView=function(uiView){module_1.trace.traceViewServiceUiViewEvent("-> Registering",uiView);var uiViews=this.uiViews,fqnMatches=function(uiv){return uiv.fqn===uiView.fqn};return uiViews.filter(fqnMatches).length&&module_1.trace.traceViewServiceUiViewEvent("!!!! duplicate uiView named:",uiView),uiViews.push(uiView),this.sync(),function(){var idx=uiViews.indexOf(uiView);return 0>=idx?void module_1.trace.traceViewServiceUiViewEvent("Tried removing non-registered uiView",uiView):(module_1.trace.traceViewServiceUiViewEvent("<- Deregistering",uiView),void common_1.removeFrom(uiViews)(uiView))}},ViewService.prototype.available=function(){return this.uiViews.map(hof_1.prop("fqn"))},ViewService.prototype.active=function(){return this.uiViews.filter(hof_1.prop("$config")).map(hof_1.prop("name"))},ViewService.normalizeUiViewTarget=function(context,rawViewName){void 0===rawViewName&&(rawViewName="");var viewAtContext=rawViewName.split("@"),uiViewName=viewAtContext[0]||"$default",uiViewContextAnchor=predicates_1.isString(viewAtContext[1])?viewAtContext[1]:"^",relativeViewNameSugar=/^(\^(?:\.\^)*)\.(.*$)/.exec(uiViewName);relativeViewNameSugar&&(uiViewContextAnchor=relativeViewNameSugar[1],uiViewName=relativeViewNameSugar[2]),"!"===uiViewName.charAt(0)&&(uiViewName=uiViewName.substr(1),uiViewContextAnchor="");var relativeMatch=/^(\^(?:\.\^)*)$/;if(relativeMatch.exec(uiViewContextAnchor)){var anchor=uiViewContextAnchor.split(".").reduce(function(anchor,x){return anchor.parent},context);uiViewContextAnchor=anchor.name}return{uiViewName:uiViewName,uiViewContextAnchor:uiViewContextAnchor}},ViewService}();exports.ViewService=ViewService},function(module,exports,__webpack_require__){"use strict";var urlMatcherFactory_1=__webpack_require__(46),urlRouter_1=__webpack_require__(47),state_1=__webpack_require__(18),stateParams_1=__webpack_require__(25),urlRouter_2=__webpack_require__(47),transitionService_1=__webpack_require__(42),view_1=__webpack_require__(49),stateRegistry_1=__webpack_require__(51),stateService_1=__webpack_require__(36),UIRouter=function(){function UIRouter(){this.stateParams=stateParams_1.stateParamsFactory(),this.urlMatcherFactory=new urlMatcherFactory_1.UrlMatcherFactory,this.urlRouterProvider=new urlRouter_1.UrlRouterProvider(this.urlMatcherFactory,this.stateParams),this.urlRouter=new urlRouter_2.UrlRouter(this.urlRouterProvider),this.viewService=new view_1.ViewService,this.transitionService=new transitionService_1.TransitionService(this.viewService),this.stateRegistry=new stateRegistry_1.StateRegistry(this.urlMatcherFactory,this.urlRouterProvider),this.stateProvider=new state_1.StateProvider(this.stateRegistry),this.stateService=new stateService_1.StateService(this.viewService,this.stateParams,this.urlRouter,this.transitionService,this.stateRegistry,this.stateProvider),this.viewService.rootContext(this.stateRegistry.root())}return UIRouter}();exports.UIRouter=UIRouter},function(module,exports,__webpack_require__){"use strict";var stateMatcher_1=__webpack_require__(34),stateBuilder_1=__webpack_require__(19),stateQueueManager_1=__webpack_require__(35),StateRegistry=function(){function StateRegistry(urlMatcherFactory,urlRouterProvider){this.states={},this.matcher=new stateMatcher_1.StateMatcher(this.states),this.builder=new stateBuilder_1.StateBuilder(this.matcher,urlMatcherFactory),this.stateQueue=new stateQueueManager_1.StateQueueManager(this.states,this.builder,urlRouterProvider);var rootStateDef={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash"}},"abstract":!0},_root=this._root=this.stateQueue.register(rootStateDef);_root.navigable=null}return StateRegistry.prototype.root=function(){return this._root},StateRegistry.prototype.register=function(stateDefinition){return this.stateQueue.register(stateDefinition)},StateRegistry.prototype.get=function(stateOrName,base){var _this=this;if(0===arguments.length)return Object.keys(this.states).map(function(name){return _this.states[name].self});var found=this.matcher.find(stateOrName,base);return found&&found.self||null},StateRegistry.prototype.decorator=function(name,func){return this.builder.builder(name,func)},StateRegistry}();exports.StateRegistry=StateRegistry},function(module,exports,__webpack_require__){"use strict";function annotateController(controllerExpression){var $injector=coreservices_1.services.$injector,$controller=$injector.get("$controller"),oldInstantiate=$injector.instantiate;try{var deps_1;return $injector.instantiate=function fakeInstantiate(constructorFunction){$injector.instantiate=oldInstantiate,deps_1=$injector.annotate(constructorFunction)},$controller(controllerExpression,{$scope:{}}),deps_1}finally{$injector.instantiate=oldInstantiate}}function runBlock($injector,$q){coreservices_1.services.$injector=$injector,coreservices_1.services.$q=$q}function ng1UIRouter($locationProvider){function $get($location,$browser,$sniffer,$rootScope,$http,$templateCache){return $rootScope.$on("$locationChangeSuccess",function(evt){return urlListeners.forEach(function(fn){return fn(evt)})}),coreservices_1.services.locationConfig.html5Mode=function(){var html5Mode=$locationProvider.html5Mode();return html5Mode=predicates_1.isObject(html5Mode)?html5Mode.enabled:html5Mode,html5Mode&&$sniffer.history},coreservices_1.services.template.get=function(url){return $http.get(url,{cache:$templateCache,headers:{Accept:"text/html"}}).then(hof_1.prop("data"))},common_1.bindFunctions($location,coreservices_1.services.location,$location,["replace","url","path","search","hash"]),common_1.bindFunctions($location,coreservices_1.services.locationConfig,$location,["port","protocol","host"]),common_1.bindFunctions($browser,coreservices_1.services.locationConfig,$browser,["baseHref"]),router}router=new router_1.UIRouter,router.stateRegistry.decorator("views",viewsBuilder_1.ng1ViewsBuilder),router.viewService.viewConfigFactory("ng1",viewsBuilder_1.ng1ViewConfigFactory),common_1.bindFunctions($locationProvider,coreservices_1.services.locationConfig,$locationProvider,["hashPrefix"]);var urlListeners=[];coreservices_1.services.location.onChange=function(callback){return urlListeners.push(callback),function(){return common_1.removeFrom(urlListeners)(callback)}},this.$get=$get,$get.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"]}function $stateParamsFactory(ng1UIRouter,$rootScope){return router.stateParams}function getUrlRouterProvider(){return router.urlRouterProvider.$get=function(){return router.urlRouter.update(!0),this.interceptDeferred||router.urlRouter.listen(),router.urlRouter},router.urlRouterProvider}function getStateProvider(){return router.stateProvider.$get=function(){return router.stateRegistry.stateQueue.autoFlush(router.stateService),router.stateService},router.stateProvider}function getTransitionsProvider(){function loadAllControllerLocals($transition$){var loadLocals=function(vc){function $loadControllerLocals(){}var resolveCtx=common_1.find($transition$.treeChanges().to,hof_1.propEq("state",vc.viewDecl.$context)).resolveContext,controllerDeps=annotateController(vc.controller),resolvables=resolveCtx.getResolvables();return $loadControllerLocals.$inject=controllerDeps.filter(function(dep){return resolvables.hasOwnProperty(dep)}),resolveCtx.invokeLater($loadControllerLocals).then(function(){return vc.locals=common_1.map(resolvables,function(res){return res.data})})},loadAllLocals=$transition$.views("entering").filter(function(vc){return!!vc.controller}).map(loadLocals);return coreservices_1.services.$q.all(loadAllLocals).then(common_1.noop)}return loadAllControllerLocals.$inject=["$transition$"],router.transitionService.onFinish({},loadAllControllerLocals),router.transitionService.$get=function(){return router.transitionService},router.transitionService}function watchDigests($rootScope){$rootScope.$watch(function(){trace_1.trace.approximateDigests++})}var router_1=__webpack_require__(50),coreservices_1=__webpack_require__(6),common_1=__webpack_require__(3),hof_1=__webpack_require__(5),predicates_1=__webpack_require__(4),module_1=__webpack_require__(43),module_2=__webpack_require__(39),module_3=__webpack_require__(17),trace_1=__webpack_require__(12),viewsBuilder_1=__webpack_require__(53),templateFactory_1=__webpack_require__(54),app=angular.module("ui.router.angular1",[]);angular.module("ui.router.util",["ng","ui.router.init"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),angular.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),angular.module("ui.router.compat",["ui.router"]),exports.annotateController=annotateController,runBlock.$inject=["$injector","$q"],app.run(runBlock);var router=null;ng1UIRouter.$inject=["$locationProvider"];var resolveFactory=function(){return{resolve:function(invocables,locals,parent){void 0===locals&&(locals={});var parentNode=new module_1.Node(new module_3.State({params:{}})),node=new module_1.Node(new module_3.State({params:{}})),context=new module_2.ResolveContext([parentNode,node]);context.addResolvables(module_2.Resolvable.makeResolvables(invocables),node.state);var resolveData=function(parentLocals){var rewrap=function(_locals){return module_2.Resolvable.makeResolvables(common_1.map(_locals,function(local){return function(){return local}}))};return context.addResolvables(rewrap(parentLocals),parentNode.state),context.addResolvables(rewrap(locals),node.state),context.resolvePath()};return parent?parent.then(resolveData):resolveData({})}}};angular.module("ui.router.init",[]).provider("ng1UIRouter",ng1UIRouter),angular.module("ui.router.init").run(["ng1UIRouter",function(ng1UIRouter){}]),angular.module("ui.router.util").provider("$urlMatcherFactory",["ng1UIRouterProvider",function(){return router.urlMatcherFactory}]),angular.module("ui.router.util").run(["$urlMatcherFactory",function($urlMatcherFactory){}]),angular.module("ui.router.router").provider("$urlRouter",["ng1UIRouterProvider",getUrlRouterProvider]),angular.module("ui.router.router").run(["$urlRouter",function($urlRouter){}]),angular.module("ui.router.state").provider("$state",["ng1UIRouterProvider",getStateProvider]),angular.module("ui.router.state").run(["$state",function($state){}]),angular.module("ui.router.state").factory("$stateParams",["ng1UIRouter","$rootScope",$stateParamsFactory]),angular.module("ui.router.state").provider("$transitions",["ng1UIRouterProvider",getTransitionsProvider]),angular.module("ui.router.util").factory("$templateFactory",["ng1UIRouter",function(){return new templateFactory_1.TemplateFactory}]),angular.module("ui.router").factory("$view",function(){return router.viewService}),angular.module("ui.router").factory("$resolve",resolveFactory),angular.module("ui.router").service("$trace",function(){return trace_1.trace}),watchDigests.$inject=["$rootScope"],exports.watchDigests=watchDigests,angular.module("ui.router").run(watchDigests)},function(module,exports,__webpack_require__){"use strict";function ng1ViewsBuilder(state){var tplKeys=["templateProvider","templateUrl","template","notify","async"],ctrlKeys=["controller","controllerProvider","controllerAs","resolveAs"],compKeys=["component","bindings"],nonCompKeys=tplKeys.concat(ctrlKeys),allKeys=compKeys.concat(nonCompKeys),views={},viewsObject=state.views||{
$default:common_1.pick(state,allKeys)};return common_1.forEach(viewsObject,function(config,name){if(name=name||"$default",predicates_1.isString(config)&&(config={component:config}),Object.keys(config).length){if(config.component){if(nonCompKeys.map(function(key){return predicates_1.isDefined(config[key])}).reduce(common_1.anyTrueR,!1))throw new Error("Cannot combine: "+compKeys.join("|")+" with: "+nonCompKeys.join("|")+" in stateview: 'name@"+state.name+"'");config.templateProvider=["$injector",function($injector){var resolveFor=function(key){return config.bindings&&config.bindings[key]||key},prefix=angular.version.minor>=3?"::":"",attrs=getComponentInputs($injector,config.component).map(function(key){return strings_1.kebobString(key)+"='"+prefix+"$resolve."+resolveFor(key)+"'"}).join(" "),kebobName=strings_1.kebobString(config.component);return"<"+kebobName+" "+attrs+"></"+kebobName+">"}]}config.resolveAs=config.resolveAs||"$resolve",config.$type="ng1",config.$context=state,config.$name=name;var normalized=view_1.ViewService.normalizeUiViewTarget(config.$context,config.$name);config.$uiViewName=normalized.uiViewName,config.$uiViewContextAnchor=normalized.uiViewContextAnchor,views[name]=config}}),views}function getComponentInputs($injector,name){var cmpDefs=$injector.get(name+"Directive");if(!cmpDefs||!cmpDefs.length)throw new Error("Unable to find component named '"+name+"'");return cmpDefs.map(getBindings).reduce(common_1.unnestR,[])}var common_1=__webpack_require__(3),strings_1=__webpack_require__(9),view_1=__webpack_require__(49),predicates_1=__webpack_require__(4),coreservices_1=__webpack_require__(6),trace_1=__webpack_require__(12),templateFactory_1=__webpack_require__(54);exports.ng1ViewConfigFactory=function(node,view){return new Ng1ViewConfig(node,view)},exports.ng1ViewsBuilder=ng1ViewsBuilder;var scopeBindings=function(bindingsObj){return Object.keys(bindingsObj).map(function(key){return[key,/^[=<](.*)/.exec(bindingsObj[key])]}).filter(function(tuple){return predicates_1.isDefined(tuple[1])}).map(function(tuple){return tuple[1][1]||tuple[0]})},bindToCtrlBindings=function(bindingsObj){return Object.keys(bindingsObj).filter(function(key){return!!/[=<]/.exec(bindingsObj[key].mode)}).map(function(key){return bindingsObj[key].attrName})},getBindings=function(def){return predicates_1.isObject(def.bindToController)?scopeBindings(def.bindToController):def.$$bindings&&def.$$bindings.bindToController?bindToCtrlBindings(def.$$bindings.bindToController):def.$$isolateBindings?bindToCtrlBindings(def.$$isolateBindings):scopeBindings(def.scope)},Ng1ViewConfig=function(){function Ng1ViewConfig(node,viewDecl){this.node=node,this.viewDecl=viewDecl,this.loaded=!1}return Ng1ViewConfig.prototype.load=function(){var _this=this,$q=coreservices_1.services.$q;if(!this.hasTemplate())throw new Error("No template configuration specified for '"+this.viewDecl.$uiViewName+"@"+this.viewDecl.$uiViewContextAnchor+"'");var injector=this.node.resolveContext,params=this.node.paramValues,promises={template:$q.when(this.getTemplate(params,new templateFactory_1.TemplateFactory,injector)),controller:$q.when(this.getController(injector))};return $q.all(promises).then(function(results){trace_1.trace.traceViewServiceEvent("Loaded",_this),_this.controller=results.controller,_this.template=results.template})},Ng1ViewConfig.prototype.hasTemplate=function(){return!!(this.viewDecl.template||this.viewDecl.templateUrl||this.viewDecl.templateProvider)},Ng1ViewConfig.prototype.getTemplate=function(params,$factory,injector){return $factory.fromConfig(this.viewDecl,params,injector.invokeLater.bind(injector))},Ng1ViewConfig.prototype.getController=function(injector){var provider=this.viewDecl.controllerProvider;return predicates_1.isInjectable(provider)?injector.invokeLater(provider,{}):this.viewDecl.controller},Ng1ViewConfig}();exports.Ng1ViewConfig=Ng1ViewConfig},function(module,exports,__webpack_require__){"use strict";var predicates_1=__webpack_require__(4),coreservices_1=__webpack_require__(6),TemplateFactory=function(){function TemplateFactory(){}return TemplateFactory.prototype.fromConfig=function(config,params,injectFn){return predicates_1.isDefined(config.template)?this.fromString(config.template,params):predicates_1.isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):predicates_1.isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,injectFn):null},TemplateFactory.prototype.fromString=function(template,params){return predicates_1.isFunction(template)?template(params):template},TemplateFactory.prototype.fromUrl=function(url,params){return predicates_1.isFunction(url)&&(url=url(params)),null==url?null:coreservices_1.services.template.get(url)},TemplateFactory.prototype.fromProvider=function(provider,params,injectFn){return injectFn(provider)},TemplateFactory}();exports.TemplateFactory=TemplateFactory},function(module,exports,__webpack_require__){"use strict";function parseStateRef(ref,current){var parsed,preparsed=ref.match(/^\s*({[^}]*})\s*$/);if(preparsed&&(ref=current+"("+preparsed[1]+")"),parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var $uiView=el.parent().inheritedData("$uiView"),context=hof_1.parse("$cfg.node.state")($uiView);return context&&context.name?context:void 0}function getTypeInfo(el){var isSvg="[object SVGAnimatedString]"===Object.prototype.toString.call(el.prop("href")),isForm="FORM"===el[0].nodeName;return{attr:isForm?"action":isSvg?"xlink:href":"href",isAnchor:"A"===el.prop("tagName").toUpperCase(),clickable:!isForm}}function clickHook(el,$state,$timeout,type,current){return function(e){var button=e.which||e.button,target=current();if(!(button>1||e.ctrlKey||e.metaKey||e.shiftKey||el.attr("target"))){var transition=$timeout(function(){$state.go(target.state,target.params,target.options)});e.preventDefault();var ignorePreventDefaultCount=type.isAnchor&&!target.href?1:0;e.preventDefault=function(){ignorePreventDefaultCount--<=0&&$timeout.cancel(transition)}}}}function defaultOpts(el,$state){return{relative:stateContext(el)||$state.$current,inherit:!0}}function $StateRefDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref,$state.current.name),def={state:ref.state,href:null,params:null,options:null},type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],unlinkInfoFn=null;def.options=common_1.extend(defaultOpts(element,$state),attrs.uiSrefOpts?scope.$eval(attrs.uiSrefOpts):{});var update=function(val){val&&(def.params=angular.copy(val)),def.href=$state.href(ref.state,def.params,def.options),unlinkInfoFn&&unlinkInfoFn(),active&&(unlinkInfoFn=active.$$addStateInfo(ref.state,def.params)),null!==def.href&&attrs.$set(type.attr,def.href)};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(val){val!==def.params&&update(val)},!0),def.params=angular.copy(scope.$eval(ref.paramExpr))),update(),type.clickable&&element.bind("click",clickHook(element,$state,$timeout,type,function(){return def}))}}}function $StateRefDynamicDirective($state,$timeout){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(scope,element,attrs,uiSrefActive){function runStateRefLink(group){def.state=group[0],def.params=group[1],def.options=group[2],def.href=$state.href(def.state,def.params,def.options),unlinkInfoFn&&unlinkInfoFn(),active&&(unlinkInfoFn=active.$$addStateInfo(def.state,def.params)),def.href&&attrs.$set(type.attr,def.href)}var type=getTypeInfo(element),active=uiSrefActive[1]||uiSrefActive[0],group=[attrs.uiState,attrs.uiStateParams||null,attrs.uiStateOpts||null],watch="["+group.map(function(val){return val||"null"}).join(", ")+"]",def={state:null,params:null,options:null,href:null},unlinkInfoFn=null;scope.$watch(watch,runStateRefLink,!0),runStateRefLink(scope.$eval(watch)),type.clickable&&element.bind("click",clickHook(element,$state,$timeout,type,function(){return def}))}}}function $StateRefActiveDirective($state,$stateParams,$interpolate,$transitions){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function($scope,$element,$attrs,$timeout){function addState(stateName,stateParams,activeClass){var state=$state.get(stateName,stateContext($element)),stateHash=createStateHash(stateName,stateParams),stateInfo={state:state||{name:stateName},params:stateParams,hash:stateHash};return states.push(stateInfo),activeClasses[stateHash]=activeClass,function removeState(){var idx=states.indexOf(stateInfo);-1!==idx&&states.splice(idx,1)}}function createStateHash(state,params){if(!predicates_1.isString(state))throw new Error("state should be a string");return predicates_1.isObject(params)?state+common_1.toJson(params):(params=$scope.$eval(params),predicates_1.isObject(params)?state+common_1.toJson(params):state)}function update(){for(var i=0;i<states.length;i++)anyMatch(states[i].state,states[i].params)?addClass($element,activeClasses[states[i].hash]):removeClass($element,activeClasses[states[i].hash]),exactMatch(states[i].state,states[i].params)?addClass($element,activeEqClass):removeClass($element,activeEqClass)}function addClass(el,className){$timeout(function(){el.addClass(className)})}function removeClass(el,className){el.removeClass(className)}function anyMatch(state,params){return $state.includes(state.name,params)}function exactMatch(state,params){return $state.is(state.name,params)}var activeEqClass,uiSrefActive,states=[],activeClasses={};activeEqClass=$interpolate($attrs.uiSrefActiveEq||"",!1)($scope);try{uiSrefActive=$scope.$eval($attrs.uiSrefActive)}catch(e){}uiSrefActive=uiSrefActive||$interpolate($attrs.uiSrefActive||"",!1)($scope),predicates_1.isObject(uiSrefActive)&&common_1.forEach(uiSrefActive,function(stateOrName,activeClass){if(predicates_1.isString(stateOrName)){var ref=parseStateRef(stateOrName,$state.current.name);addState(ref.state,$scope.$eval(ref.paramExpr),activeClass)}}),this.$$addStateInfo=function(newState,newParams){if(!(predicates_1.isObject(uiSrefActive)&&states.length>0)){var deregister=addState(newState,newParams,uiSrefActive);return update(),deregister}},$scope.$on("$stateChangeSuccess",update);var updateAfterTransition=["$transition$",function($transition$){$transition$.promise.then(update)}],deregisterFn=$transitions.onStart({},updateAfterTransition);$scope.$on("$destroy",deregisterFn),update()}]}}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),hof_1=__webpack_require__(5);$StateRefDirective.$inject=["$state","$timeout"],$StateRefDynamicDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate","$transitions"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective)},function(module,exports){"use strict";function $IsStateFilter($state){var isFilter=function(state,params,options){return $state.is(state,params,options)};return isFilter.$stateful=!0,isFilter}function $IncludedByStateFilter($state){var includesFilter=function(state,params,options){return $state.includes(state,params,options)};return includesFilter.$stateful=!0,includesFilter}$IsStateFilter.$inject=["$state"],exports.$IsStateFilter=$IsStateFilter,$IncludedByStateFilter.$inject=["$state"],exports.$IncludedByStateFilter=$IncludedByStateFilter,angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)},function(module,exports,__webpack_require__){"use strict";function $ViewDirective($view,$animate,$uiViewScroll,$interpolate,$q){function getRenderer(attrs,scope){return{enter:function(element,target,cb){angular.version.minor>2?$animate.enter(element,null,target).then(cb):$animate.enter(element,null,target,cb)},leave:function(element,cb){angular.version.minor>2?$animate.leave(element).then(cb):$animate.leave(element,cb)}}}function configsEqual(config1,config2){return config1===config2}var rootData={$cfg:{viewDecl:{$context:$view.rootContext()}},$uiView:{}},directive={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(tElement,tAttrs,$transclude){return function(scope,$element,attrs){function configUpdatedCallback(config){configsEqual(viewConfig,config)||(trace_1.trace.traceUiViewConfigUpdated(activeUIView,config&&config.viewDecl&&config.viewDecl.$context),viewConfig=config,updateView(config))}function cleanupLastView(){if(previousEl&&(trace_1.trace.traceUiViewEvent("Removing (previous) el",previousEl.data("$uiView")),previousEl.remove(),previousEl=null),currentScope&&(trace_1.trace.traceUiViewEvent("Destroying scope",activeUIView),currentScope.$destroy(),currentScope=null),currentEl){var _viewData_1=currentEl.data("$uiView");trace_1.trace.traceUiViewEvent("Animate out",_viewData_1),renderer.leave(currentEl,function(){_viewData_1.$$animLeave.resolve(),previousEl=null}),previousEl=currentEl,currentEl=null}}function updateView(config){var newScope=scope.$new();trace_1.trace.traceUiViewScopeCreated(activeUIView,newScope);var animEnter=$q.defer(),animLeave=$q.defer(),$uiViewData={$cfg:config,$uiView:activeUIView,$animEnter:animEnter.promise,$animLeave:animLeave.promise,$$animLeave:animLeave},cloned=$transclude(newScope,function(clone){renderer.enter(clone.data("$uiView",$uiViewData),$element,function onUiViewEnter(){animEnter.resolve(),currentScope&&currentScope.$emit("$viewContentAnimationEnded"),(predicates_1.isDefined(autoScrollExp)&&!autoScrollExp||scope.$eval(autoScrollExp))&&$uiViewScroll(clone)}),cleanupLastView()});currentEl=cloned,currentScope=newScope,currentScope.$emit("$viewContentLoaded",config||viewConfig),currentScope.$eval(onloadExp)}var previousEl,currentEl,currentScope,unregister,onloadExp=attrs.onload||"",autoScrollExp=attrs.autoscroll,renderer=getRenderer(attrs,scope),viewConfig=void 0,inherited=$element.inheritedData("$uiView")||rootData,name=$interpolate(attrs.uiView||attrs.name||"")(scope)||"$default",activeUIView={id:directive.count++,name:name,fqn:inherited.$uiView.fqn?inherited.$uiView.fqn+"."+name:name,config:null,configUpdated:configUpdatedCallback,get creationContext(){return hof_1.parse("$cfg.viewDecl.$context")(inherited)}};trace_1.trace.traceUiViewEvent("Linking",activeUIView),$element.data("$uiView",{$uiView:activeUIView}),updateView(),unregister=$view.registerUiView(activeUIView),scope.$on("$destroy",function(){trace_1.trace.traceUiViewEvent("Destroying/Unregistering",activeUIView),unregister()})}}};return directive}function $ViewDirectiveFill($compile,$controller,$transitions,$view,$timeout){var getControllerAs=hof_1.parse("viewDecl.controllerAs"),getResolveAs=hof_1.parse("viewDecl.resolveAs"),getResolveContext=hof_1.parse("node.resolveContext");return{restrict:"ECA",priority:-400,compile:function(tElement){var initial=tElement.html();return function(scope,$element){var data=$element.data("$uiView");if(data){var cfg=data.$cfg||{viewDecl:{}};$element.html(cfg.template||initial),trace_1.trace.traceUiViewFill(data.$uiView,$element.html());var link=$compile($element.contents()),controller=cfg.controller,controllerAs=getControllerAs(cfg),resolveAs=getResolveAs(cfg),resolveCtx=getResolveContext(cfg),locals=resolveCtx&&common_1.map(resolveCtx.getResolvables(),function(r){return r.data});if(scope[resolveAs]=locals,controller){var controllerInstance=$controller(controller,common_1.extend({},locals,{$scope:scope,$element:$element}));controllerAs&&(scope[controllerAs]=controllerInstance,scope[controllerAs][resolveAs]=locals),$element.data("$ngControllerController",controllerInstance),$element.children().data("$ngControllerController",controllerInstance),registerControllerCallbacks($transitions,controllerInstance,scope,cfg)}if(cfg.viewDecl.component)var cmp_1=cfg.viewDecl.component,kebobName_1=strings_1.kebobString(cmp_1),getComponentController=function(){var directiveEl=[].slice.call($element[0].children).filter(function(el){return el&&el.tagName&&el.tagName.toLowerCase()===kebobName_1});return directiveEl&&angular.element(directiveEl).data("$"+cmp_1+"Controller")},deregisterWatch_1=scope.$watch(getComponentController,function(ctrlInstance){ctrlInstance&&(registerControllerCallbacks($transitions,ctrlInstance,scope,cfg),deregisterWatch_1())});link(scope)}}}}}function registerControllerCallbacks($transitions,controllerInstance,$scope,cfg){if(predicates_1.isFunction(controllerInstance.$onInit)&&controllerInstance.$onInit(),predicates_1.isFunction(controllerInstance.uiOnParamsChanged)){var paramsUpdated_1=function($transition$){var ctx=cfg.node.resolveContext,viewCreationTrans=ctx.getResolvables().$transition$.data;if($transition$!==viewCreationTrans&&-1===$transition$.exiting().indexOf(cfg.node.state.self)){var toParams=$transition$.params("to"),fromParams=$transition$.params("from"),toSchema=$transition$.treeChanges().to.map(function(node){return node.paramSchema}).reduce(common_1.unnestR,[]),fromSchema=$transition$.treeChanges().from.map(function(node){return node.paramSchema}).reduce(common_1.unnestR,[]),changedToParams=toSchema.filter(function(param){var idx=fromSchema.indexOf(param);return-1===idx||!fromSchema[idx].type.equals(toParams[param.id],fromParams[param.id])});if(changedToParams.length){var changedKeys_1=changedToParams.map(function(x){return x.id});controllerInstance.uiOnParamsChanged(common_1.filter(toParams,function(val,key){return-1!==changedKeys_1.indexOf(key)}),$transition$)}}};$scope.$on("$destroy",$transitions.onSuccess({},["$transition$",paramsUpdated_1]));var onDynamic=function($error$,$transition$){$error$.type===rejectFactory_1.RejectType.IGNORED&&paramsUpdated_1($transition$)};$scope.$on("$destroy",$transitions.onError({},["$error$","$transition$",onDynamic]))}predicates_1.isFunction(controllerInstance.uiCanExit)&&$scope.$on("$destroy",$transitions.onBefore({exiting:cfg.node.state.name},controllerInstance.uiCanExit.bind(controllerInstance)))}var common_1=__webpack_require__(3),predicates_1=__webpack_require__(4),trace_1=__webpack_require__(12),rejectFactory_1=__webpack_require__(10),hof_1=__webpack_require__(5),strings_1=__webpack_require__(9);$ViewDirective.$inject=["$view","$animate","$uiViewScroll","$interpolate","$q"],$ViewDirectiveFill.$inject=["$compile","$controller","$transitions","$view","$timeout"],angular.module("ui.router.state").directive("uiView",$ViewDirective),angular.module("ui.router.state").directive("uiView",$ViewDirectiveFill)},function(module,exports){"use strict";function $ViewScrollProvider(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){return $timeout(function(){$element[0].scrollIntoView()},0,!1)}}]}angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider)}])})},{}]},{},["/home/circleci/project/dependencies.js"]);